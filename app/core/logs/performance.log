{"timestamp": "2024-12-28T11:53:13.031368", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-28T19:04:25.202519", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-28T19:37:09.492704", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-28T19:38:53.756477", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-28T20:28:47.773093", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-28T20:59:39.634547", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T08:22:13.411144", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T09:01:52.067594", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T11:02:20.286874", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T16:36:44.658875", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T17:40:08.951105", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T18:19:21.565249", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: initiativetechbridge@gmail.com"}
{"timestamp": "2024-12-29T18:22:35.835222", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: fatumaosman2@gmail.com"}
{"timestamp": "2024-12-29T19:06:38.672592", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-29T19:06:38.999346", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-29T19:07:59.891367", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-29T19:08:33.900633", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 40, "message": "Generated new school registration number: SCH-2024-003"}
{"timestamp": "2024-12-29T19:15:21.820656", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 40, "message": "Generated new school registration number: SCH-2024-003"}
{"timestamp": "2024-12-29T19:33:49.689465", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 42, "message": "Generated new school registration number: SCH-2024-001"}
{"timestamp": "2024-12-29T19:49:53.749504", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-29T19:50:38.673306", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 42, "message": "Generated new school registration number: SCH-2024-001"}
{"timestamp": "2024-12-29T19:53:36.860633", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 42, "message": "Generated new school registration number: SCH-2024-001"}
{"timestamp": "2024-12-29T20:00:45.737753", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "generate_registration_number", "line": 42, "message": "Generated new school registration number: SCH-2024-001"}
{"timestamp": "2024-12-30T10:24:20.612021", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T10:30:20.976656", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: abdiazizismail51@gmail.com"}
{"timestamp": "2024-12-30T12:07:28.894193", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: abdiazizismail51@gmail.com"}
{"timestamp": "2024-12-30T12:07:55.824732", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T12:17:20.238271", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 149, "message": "Failed to create school: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint \"schools_registration_number_key\"\nDETAIL:  Key (registration_number)=(SCH-2024-001) already exists.\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Green Academy', 'abdiazizismail51@gmail.com', '+254723423256', 'SCH-2024-001', <SchoolType.PRIMARY: 'primary'>, None, <SchoolStatus.ACTIVE: 'active'>, '123 Learning Road, Nairobi', 'Nairobi', '00100', '8-4-4', '{\"lower_bound\": 1, \"upper_bound\": 8}', '{\"motto\": \"Excellence in Education\", \"founded\": 1995}', True, datetime.datetime(2024, 12, 30, 12, 17, 19, 300535))]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}
{"timestamp": "2024-12-30T12:28:47.675427", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 209, "message": "Failed to create school: 'SchoolService' object has no attribute '_store_password_reset_token'"}
{"timestamp": "2024-12-30T12:38:40.445912", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T12:39:14.340188", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 191, "message": "Created new school: Green Academy with registration number: SCH-2024-003"}
{"timestamp": "2024-12-30T13:40:19.714980", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T13:42:04.499560", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 203, "message": "Failed to create school: module 'app.services.email_service' has no attribute 'send_school_admin_credentials'"}
{"timestamp": "2024-12-30T14:11:36.587525", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T14:15:17.780625", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 189, "message": "Failed to send welcome email to school: county High school"}
{"timestamp": "2024-12-30T14:15:17.783003", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 191, "message": "Created new school: county High school with registration number: SCH-2024-005"}
{"timestamp": "2024-12-30T14:57:13.288268", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 129, "message": "User authenticated: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T15:03:27.890480", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 189, "message": "Failed to send welcome email to school: Balambala  High school"}
{"timestamp": "2024-12-30T15:03:27.915425", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 191, "message": "Created new school: Balambala  High school with registration number: SCH-2024-006"}
{"timestamp": "2024-12-30T15:06:14.368665", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: maryannn2022@gmail.@gmail.com"}
{"timestamp": "2024-12-30T15:15:10.696259", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: maryannn2022@gmail.@gmail.com"}
{"timestamp": "2024-12-30T15:31:39.502606", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T15:32:49.280600", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T16:17:02.228023", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 108, "message": "Failed login attempt for email: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T18:12:44.350724", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 85, "message": "Failed login attempt for email: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T18:15:05.933224", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 83, "message": "Invalid password for email: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T18:15:05.936973", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 126, "message": "Authentication error: 401: Invalid credentials"}
{"timestamp": "2024-12-30T18:17:08.599387", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 83, "message": "Invalid password for email: safwaismail8@gmail.com"}
{"timestamp": "2024-12-30T18:17:08.631483", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 126, "message": "Authentication error: 401: Invalid credentials"}
{"timestamp": "2024-12-30T18:17:46.703252", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 126, "message": "Authentication error: 'AuthService' object has no attribute 'create_access_token'"}
{"timestamp": "2024-12-30T18:20:40.339288", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 140, "message": "Authentication error: 'Settings' object has no attribute 'PRODUCTION'"}
{"timestamp": "2024-12-30T18:28:53.184083", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 152, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T18:35:10.968400", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 121, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T18:48:38.809575", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T19:02:37.235317", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T19:12:00.561574", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T19:17:36.112725", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T19:20:15.826757", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T19:42:57.122730", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 173, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T20:03:08.138093", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 166, "message": "Authentication error: 'str' object has no attribute 'headers'"}
{"timestamp": "2024-12-30T20:17:02.581214", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 166, "message": "Authentication error: 'str' object has no attribute 'headers'"}
{"timestamp": "2024-12-30T20:20:12.133086", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 166, "message": "Authentication error: 'str' object has no attribute 'headers'"}
{"timestamp": "2024-12-30T20:23:40.624495", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 145, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T20:30:49.889937", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 110, "message": "Failed authentication attempt for user: maryannn2022@gmail.com"}
{"timestamp": "2024-12-30T20:31:09.122028", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 145, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-30T20:44:46.744809", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_current_user", "line": 247, "message": "Unexpected error in get_current_user: type object 'RevokedToken' has no attribute 'token'"}
{"timestamp": "2024-12-30T20:50:04.748280", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 105, "message": "Token does not contain JTI claim"}
{"timestamp": "2024-12-30T20:51:36.656326", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 105, "message": "Token does not contain JTI claim"}
{"timestamp": "2024-12-30T21:11:13.691609", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 92, "message": "Token verification error: Signature has expired."}
{"timestamp": "2024-12-30T21:11:13.724766", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_current_user", "line": 237, "message": "Unexpected error in get_current_user: 401: Invalid token"}
{"timestamp": "2024-12-30T21:11:59.062403", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 190, "message": "Authentication error: name 'set_auth_cookies' is not defined"}
{"timestamp": "2024-12-31T05:45:07.541219", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 364, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-31T05:46:12.096245", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:54:41.482499", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:56:47.195508", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:09.346949", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:55.036223", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:55.932228", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 203, "message": "Failed to create school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 5, 57, 55, 313933))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T05:57:55.934198", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "create_school", "line": 75, "message": "Error creating school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 5, 57, 55, 313933))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:08:38.267237", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T06:08:38.836881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 203, "message": "Failed to create school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 6, 8, 38, 526915))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:08:38.837653", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "create_school", "line": 75, "message": "Error creating school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 6, 8, 38, 526915))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:11:41.257515", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T06:14:45.204862", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 191, "message": "Failed to send welcome email to school: Saka Girls Secondary School"}
{"timestamp": "2024-12-31T06:14:45.205601", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 193, "message": "Created new school: Saka Girls Secondary School with registration number: SCH-2024-007"}
{"timestamp": "2024-12-31T06:21:18.886651", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 324, "message": "Authentication attempt for non-existent user: abdullahiwardere@yahoo.com"}
{"timestamp": "2024-12-31T06:24:04.254745", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 331, "message": "Failed authentication attempt for user: safwaismail8@gmail.com"}
