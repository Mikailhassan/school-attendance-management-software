{"timestamp": "2024-12-30T21:11:13.691609", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 92, "message": "Token verification error: Signature has expired."}
{"timestamp": "2024-12-30T21:11:13.724766", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_current_user", "line": 237, "message": "Unexpected error in get_current_user: 401: Invalid token"}
{"timestamp": "2024-12-30T21:11:59.062403", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 190, "message": "Authentication error: name 'set_auth_cookies' is not defined"}
{"timestamp": "2024-12-31T05:45:07.541219", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 364, "message": "User authenticated successfully: mikailismail260@gmail.com"}
{"timestamp": "2024-12-31T05:46:12.096245", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:54:41.482499", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:56:47.195508", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:09.346949", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:55.036223", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T05:57:55.932228", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 203, "message": "Failed to create school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 5, 57, 55, 313933))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T05:57:55.934198", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "create_school", "line": 75, "message": "Error creating school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 5, 57, 55, 313933))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:08:38.267237", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T06:08:38.836881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 203, "message": "Failed to create school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 6, 8, 38, 526915))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:08:38.837653", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "create_school", "line": 75, "message": "Error creating school: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $6: Url('http://sakagirlssecondaryschool.com... (expected str, got Url)\n[SQL: INSERT INTO schools (name, email, phone, registration_number, school_type, website, status, address, county, postal_code, class_system, class_range, extra_info, is_active, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSON, $13::JSON, $14::BOOLEAN, $15::TIMESTAMP WITH TIME ZONE) RETURNING schools.id, schools.updated_at]\n[parameters: ('Saka Girls Secondary School', 'sakagirlssecschol@gmail.com', '+254723456789', 'SCH-2024-007', <SchoolType.SECONDARY: 'secondary'>, Url('http://sakagirlssecondaryschool.com/'), <SchoolStatus.ACTIVE: 'active'>, '123 Saka Road, Northern County', 'Northern County', '00100', 'Standard 8-4-4', '{\"start\": 1, \"end\": 4}', '{\"motto\": \"Education for a brighter future\", \"established\": \"2005\"}', True, datetime.datetime(2024, 12, 31, 6, 8, 38, 526915))]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"timestamp": "2024-12-31T06:11:41.257515", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 239, "message": "Token revocation check error: type object 'RevokedToken' has no attribute 'expiration'"}
{"timestamp": "2024-12-31T06:14:45.204862", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 191, "message": "Failed to send welcome email to school: Saka Girls Secondary School"}
{"timestamp": "2024-12-31T06:14:45.205601", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "school_service", "function": "create_school", "line": 193, "message": "Created new school: Saka Girls Secondary School with registration number: SCH-2024-007"}
{"timestamp": "2024-12-31T06:21:18.886651", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 324, "message": "Authentication attempt for non-existent user: abdullahiwardere@yahoo.com"}
{"timestamp": "2024-12-31T06:24:04.254745", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 331, "message": "Failed authentication attempt for user: safwaismail8@gmail.com"}
