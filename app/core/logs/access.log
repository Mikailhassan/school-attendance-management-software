{"timestamp": "2025-01-16T00:51:38.529989", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T03:35:36.849993", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "76b81421-bd98-47f2-b3e7-2d9c0e0ecac3"}
{"timestamp": "2025-01-16T03:35:37.661893", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 702, "message": "Generating tokens", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:37.730923", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:37.732929", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:37.734136", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 719, "message": "Token expiration times"}
{"timestamp": "2025-01-16T03:35:37.736327", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 759, "message": "User logged in successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:37.741111", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 236, "message": "Login successful", "request_id": "76b81421-bd98-47f2-b3e7-2d9c0e0ecac3", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:38.429377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:38.430828", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:35:38.432036", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:36:07.665388", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:07.667215", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:07.695286", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:07.697140", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:07.727590", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:36:07.728455", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:36:07.729784", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:36:07.737599", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:07.744964", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:07.877330", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:07.880081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:07.920438", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.156032", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.158664", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.217634", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.231117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.232734", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.244110", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.245342", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.361749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.363321", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.570199", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.572375", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.588545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.590495", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.609218", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.610407", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.622219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.623627", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.658279", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.659488", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.678571", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.685999", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.686943", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.698915", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.724679", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:08.805233", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.806674", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.956468", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.958406", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.975439", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:08.977435", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:08.991469", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.106121", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.111912", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.134674", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.136626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.166892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.168754", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.212259", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.213826", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.244738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.246671", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.329521", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.359274", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.374775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.388197", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.389746", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.405538", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.407147", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.430187", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.526622", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.527814", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.540650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.556412", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.589739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.592249", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.622323", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.623790", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.650813", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.653583", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.785733", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.817493", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.854305", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:09.862173", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.864825", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.900063", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:09.902015", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:09.928576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.061765", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.070609", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.072526", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.097923", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.179056", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.180373", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.216508", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.217706", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.279418", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.280586", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.298991", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.323422", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.338683", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.340000", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.360592", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:10.362193", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:10.377374", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.412711", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.478581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:10.497766", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:36:11.789353", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:36:11.791171", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:36:11.818027", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:37:08.787580", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:37:08.794039", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:37:08.824249", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:37:08.830769", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:37:08.855865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:08.243058", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:08.247245", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:08.274673", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:08.280595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:08.299013", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:41.434430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:38:41.436883", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:38:41.439103", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:38:41.520828", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:41.523684", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:41.556615", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:41.559321", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:41.591305", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:41.593191", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:41.898323", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:41.903859", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:41.952303", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.041257", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.043287", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.064353", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.132460", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.134115", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.158641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.216827", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.219468", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.234618", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.236502", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.249179", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.250533", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.264750", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.266397", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.285851", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.287784", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.316546", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.320693", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.356939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.363667", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.366337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.374237", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.394149", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.421352", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:42.835638", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.837009", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.957152", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.960039", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:42.983668", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:42.985405", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:43.184025", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:43.295637", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:43.297749", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:43.326459", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:43.328257", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:43.379428", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:43.417681", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:43.505972", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:43.539330", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:38:44.906881", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:38:44.908785", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:38:44.934659", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:39:42.610708", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:39:42.613340", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:39:42.653484", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:39:42.663506", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:39:42.698097", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:40:42.717684", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:40:42.721473", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:40:42.753798", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:40:42.761983", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:40:42.785969", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:16.687343", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:41:16.688768", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:41:16.690776", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:41:16.768335", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:16.770640", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:16.802650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:16.807195", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:16.843181", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:16.848885", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.080661", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.081933", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.118865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.211256", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.212819", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.232921", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.292890", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.294423", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.318842", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.387595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.390641", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.408673", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.410155", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.424591", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.425719", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.437946", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.439134", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.448161", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.449703", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.467796", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:17.469792", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:17.502900", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.504215", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.506188", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.507219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.536618", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:17.547376", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:18.272979", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:18.274588", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:18.376956", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:18.393869", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:18.395969", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:18.637460", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:18.639428", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:18.672359", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:18.673593", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:18.714804", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:18.764955", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:18.766508", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:18.789839", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:18.812099", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:18.857465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:41:19.509009", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:41:19.511266", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:41:19.537219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:42:16.544584", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:42:16.555221", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:42:16.577834", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:42:16.583142", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:42:16.720011", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:42:18.924098", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:42:18.925955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:42:18.956463", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:43:17.191418", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:43:17.194260", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:43:17.228938", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:43:17.238653", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:43:17.260910", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:44:17.662769", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:44:17.670828", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:44:17.712891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:44:17.726423", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:44:17.951169", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:17.943636", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:17.950897", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:17.981007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:17.986903", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:18.138577", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:26.689939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:45:26.692275", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:45:26.694170", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:45:26.926988", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:26.930434", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:26.989894", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.195648", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.197529", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.226809", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.240666", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.243312", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.296477", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.517558", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.519466", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.543622", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.545919", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.564230", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.565890", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.590133", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.592563", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.616845", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.618948", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:27.669071", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.670541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.672919", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.695432", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.697096", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:27.740649", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:27.743277", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.082196", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.128458", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.130159", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.372089", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.375555", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.447299", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.552692", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.554408", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.639529", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.643657", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.671579", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.720337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.721990", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.745118", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.746265", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.761056", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.777594", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.799895", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:28.801252", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:28.850034", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.898278", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:28.928391", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:45:29.757962", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:45:29.760044", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:45:29.789367", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:46:28.321847", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:46:28.326304", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:46:28.357959", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:46:28.362752", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:46:28.380767", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:47:31.007969", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:47:31.016799", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:47:31.041595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:47:31.049423", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:47:31.185815", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:47:39.648479", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:47:39.653078", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:47:39.675430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:47:39.784645", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: name 'SQLAlchemyError' is not defined", "exception": {"type": "NameError", "message": "name 'SQLAlchemyError' is not defined", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 882, in get_students\n    except SQLAlchemyError as e:\n           ^^^^^^^^^^^^^^^\n", "NameError: name 'SQLAlchemyError' is not defined\n"]}}
{"timestamp": "2025-01-16T03:48:08.002172", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 315, "message": "No refresh token found in cookies or headers"}
{"timestamp": "2025-01-16T03:48:28.765441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:48:28.767913", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:48:28.792309", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:48:28.796846", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:48:28.814081", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:49:36.885370", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:49:36.890320", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:49:36.913504", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:49:36.918226", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:49:37.038246", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:23.521856", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:50:23.522967", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:50:23.523874", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:50:23.578245", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:23.580106", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:23.595281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:23.598577", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:23.634293", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:23.635350", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:23.867680", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: name 'load_only' is not defined", "exception": {"type": "NameError", "message": "name 'load_only' is not defined", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 858, in get_students\n    load_only(Student.id, Student.name, Student.admission_number),\n    ^^^^^^^^^\n", "NameError: name 'load_only' is not defined\n"]}}
{"timestamp": "2025-01-16T03:50:24.221598", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.223857", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.244726", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.246937", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.311428", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.321665", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.506836", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.509436", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.544339", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.565586", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.569720", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.588792", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.590271", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.604572", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.605955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.620729", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.622232", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.633804", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.635285", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:24.703900", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.705219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.707656", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.728987", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.730897", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:24.733391", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:24.734813", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.093738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:25.130345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:25.132403", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.148721", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:25.150056", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.282988", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:25.284621", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.318794", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:25.327967", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:25.347549", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:25.349738", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.423581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:25.425031", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:25.478251", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:25.522600", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:25.553704", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:26.733380", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:50:26.737190", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:50:26.767045", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:50:26.811498", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: name 'load_only' is not defined", "exception": {"type": "NameError", "message": "name 'load_only' is not defined", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 858, in get_students\n    load_only(Student.id, Student.name, Student.admission_number),\n    ^^^^^^^^^\n", "NameError: name 'load_only' is not defined\n"]}}
{"timestamp": "2025-01-16T03:51:23.960624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:51:23.974583", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:51:24.048982", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:51:24.060396", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:51:24.084655", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:11.558781", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:52:11.559792", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:52:11.561007", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:52:11.634602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:11.637482", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:11.676306", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:11.682349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:11.712567", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:11.727004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.029662", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.031796", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.099128", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 884, "message": "Database error in get_students: A transaction is already begun on this Session.", "exception": {"type": "InvalidRequestError", "message": "A transaction is already begun on this Session.", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 870, in get_students\n    async with db.begin():\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1865, in start\n    await greenlet_spawn(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 1939, in begin\n    raise sa_exc.InvalidRequestError(\n", "sqlalchemy.exc.InvalidRequestError: A transaction is already begun on this Session.\n"]}}
{"timestamp": "2025-01-16T03:52:12.129766", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.148199", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.150031", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.208510", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.254547", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.257936", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.329109", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.348274", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.350533", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.378318", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.380215", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.397032", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.398631", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.416291", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.418663", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.437208", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.439863", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:12.497242", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.504818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.506026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.507039", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.510806", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:12.564377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:12.566016", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.074676", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:13.090520", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:13.092113", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.166935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:13.169208", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.293486", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:13.438175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:13.439654", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.567937", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:13.675071", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:13.676630", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.696929", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:13.698201", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:13.729982", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:13.764179", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:13.774537", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:21.814856", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:52:21.817946", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:52:21.851559", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:52:21.896983", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 884, "message": "Database error in get_students: A transaction is already begun on this Session.", "exception": {"type": "InvalidRequestError", "message": "A transaction is already begun on this Session.", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 870, in get_students\n    async with db.begin():\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1865, in start\n    await greenlet_spawn(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 1939, in begin\n    raise sa_exc.InvalidRequestError(\n", "sqlalchemy.exc.InvalidRequestError: A transaction is already begun on this Session.\n"]}}
{"timestamp": "2025-01-16T03:53:11.964789", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:53:11.974083", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:53:12.045990", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:53:12.067193", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:53:12.091339", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:03.530723", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:54:03.533070", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T03:54:03.535813", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T03:54:03.666749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:03.669412", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:03.690684", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:03.693917", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:03.725813", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:03.734553", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:03.960693", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140624018122672)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n", "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140624018122672)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n", "fastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140624018122672)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n\n"]}}
{"timestamp": "2025-01-16T03:54:04.104950", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.106964", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.134337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.136868", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.165550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.170001", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.268739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.271181", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.301932", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.303805", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.329349", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.338377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.419388", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.422177", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.439397", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.441336", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.456730", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.458918", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.472120", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.474162", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.495181", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.498097", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.515008", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.516349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:04.563891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.565341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.566552", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.570393", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.592050", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.603970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:04.993669", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:04.996753", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:05.024295", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:05.025536", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:05.073001", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:05.083961", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:05.560112", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:05.561596", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:05.577138", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:05.578726", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:05.809602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:05.823551", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:06.579965", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:54:06.583816", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:54:06.613933", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:54:06.700325", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140623671203776)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n", "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140623671203776)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n", "fastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'items': [<Student(140623671203776)>], 'total': 1, 'page': 1, 'page_size': 50, 'total_pages': 1}}\n\n"]}}
{"timestamp": "2025-01-16T03:55:04.535031", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:55:04.537981", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:55:04.567136", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:55:04.571657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:55:04.590719", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:56:04.684840", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:56:04.687796", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T03:56:04.711977", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T03:56:04.718317", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T03:56:04.737071", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.304846", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.310608", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.330979", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.333473", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.365296", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.368811", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.404603", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.406774", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.429250", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.432576", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.455842", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.458093", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:07.509528", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.513408", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.516118", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.520960", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.526370", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.533527", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:07.542794", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.556909", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.564747", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.572327", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.584456", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.589153", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:07.998638", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:08.033487", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:08.070532", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:08.081213", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:08.098077", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:08.114526", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:14.008242", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:02:14.009750", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:02:14.013163", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T04:02:14.209917", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:14.212065", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:14.256724", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:14.262344", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:14.310175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:14.318253", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:14.723524", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing", "exception": {"type": "ValidationError", "message": "7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 874, in get_students\n    return PaginatedStudentResponse(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/pydantic/main.py\", line 212, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "pydantic_core._pydantic_core.ValidationError: 7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092964781616)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\n"]}}
{"timestamp": "2025-01-16T04:02:14.947377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:14.951034", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:14.964080", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:14.966111", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.020088", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.021721", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.118531", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.120881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.168393", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.189477", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.192202", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.223577", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.275752", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.279331", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.305931", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.307279", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.327511", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.330143", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.349195", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.350854", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.397409", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.400211", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.461768", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.463081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.483576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.486763", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.502379", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.508800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.531253", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.631046", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:15.882717", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.884583", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:15.901119", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:15.902462", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:16.058541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:16.060174", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:16.075997", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:16.077283", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:16.108605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:16.127280", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:16.167345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:16.184200", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:16.995028", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:02:16.998026", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:02:17.025398", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:02:17.105803", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing", "exception": {"type": "ValidationError", "message": "7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 874, in get_students\n    return PaginatedStudentResponse(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/pydantic/main.py\", line 212, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "pydantic_core._pydantic_core.ValidationError: 7 validation errors for PaginatedStudentResponse\nitems.0.class_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.stream_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.school_id\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.date_of_birth\n  Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s) [type=get_attribute_error, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/get_attribute_error\nitems.0.parent_name\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_phone\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\nitems.0.parent_email\n  Field required [type=missing, input_value=<Student(140092937830272)>, input_type=Student]\n    For further information visit https://errors.pydantic.dev/2.9/v/missing\n"]}}
{"timestamp": "2025-01-16T04:03:15.226571", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:03:15.232516", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:03:15.260601", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:03:15.271257", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:03:15.293420", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:03:52.883612", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:03:52.888748", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:03:52.914543", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:33.037576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:06:33.044862", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:06:33.046831", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T04:06:33.130782", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:33.133053", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:33.368225", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:33.370018", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:33.504697", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:33.522730", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:33.960407", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:33.966175", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.012868", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.015093", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.290168", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.292503", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.320188", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.325680", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.327812", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.354592", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.361657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.365141", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.432593", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.437720", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:34.589529", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.612028", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.650059", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.652909", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:34.970998", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:34.972497", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:35.272876", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:35.276185", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:35.358532", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:35.533960", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:35.535354", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:35.663644", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:35.884278", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:35.954230", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:35.956755", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:36.023833", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:36.027135", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:36.242411", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:36.244501", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:36.288681", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:36.293954", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:36.385111", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:36.450984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:36.481735", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:36.485259", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:36.514939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:36.545439", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:36.857829", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:06:55.045135", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:06:55.047597", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:06:55.069547", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:44.932141", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:12:44.939237", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T04:12:44.945862", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T04:12:45.052370", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:45.070355", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:45.120703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:45.125494", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:45.177289", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:45.179078", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:45.835742", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:45.841183", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:45.869145", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:45.871777", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:45.941488", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:45.942624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.093029", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.094485", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.127465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.139430", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.187476", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.189520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.241750", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.266709", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.298985", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.315678", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.349329", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.351539", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.386241", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.677965", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.692749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.728510", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.739903", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.742305", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:46.792245", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.793434", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:46.998027", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:46.999965", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:47.679129", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:47.723518", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:47.725462", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:47.762054", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:47.764033", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:47.950644", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:47.976775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:47.983539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:48.011636", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:48.013680", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:48.121979", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:12:48.124212", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:12:48.744428", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:12:48.780067", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:13:00.235790", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:13:00.238760", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:13:00.255185", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:13:45.482646", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:13:45.484386", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:13:45.500382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:13:45.505692", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:13:45.516752", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:14:45.624141", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:14:45.626370", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:14:45.640920", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:14:45.643989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:14:45.655007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T04:14:45.757201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T04:14:45.758030", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T04:14:45.770042", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:23.709511", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:14:23.716067", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:14:23.725524", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:14:23.786051", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:23.787668", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:23.821425", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:23.823679", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:23.857749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:23.883059", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:24.659567", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:24.661397", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:24.674442", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:24.675346", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:24.774209", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:24.778477", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:24.998890", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.000262", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.011944", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.013056", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.025458", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.026502", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.040142", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.041198", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.131941", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.133353", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.153246", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.153854", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.154402", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.165911", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.213884", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.221615", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.222402", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.366082", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.367227", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.384248", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.385193", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.406211", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.407376", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.434231", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.485789", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.486975", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.496255", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.497872", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:25.518190", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.529373", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.530025", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.572899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.574123", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:14:25.580924", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:14:25.582096", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:14:29.622314", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:15:23.592797", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:15:23.595083", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:15:23.611192", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:15:23.613947", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:15:23.623819", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:15:57.600264", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:15:57.600688", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:15:57.601796", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:16:02.462587", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:16:02.464229", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:16:02.464863", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:16:02.471004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.473553", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.492507", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.526529", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.527509", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.544136", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.583550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.585334", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.596469", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.633182", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.635070", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.648642", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.678394", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.679105", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.688405", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.713455", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.714151", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.723419", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.747264", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.748104", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.755216", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.756022", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.761915", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.762551", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.774416", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.778533", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.779018", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.829551", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.830591", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.836523", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.837249", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.842618", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.843186", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.850687", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.851493", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.857538", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.858260", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.864108", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:02.864722", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:02.880073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.880558", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.881244", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.887116", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.887602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:02.895516", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.016238", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.017746", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.024222", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.024953", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.031072", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.031944", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.040564", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.041792", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.055701", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.056730", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.085657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.086454", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.087626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.088382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.089267", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.104614", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.105357", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.172908", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.197800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.198629", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.205441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.206424", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.215186", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.215883", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.221703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.222437", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.230562", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.231324", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.268775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.274695", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.275326", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.275969", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.292263", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.296770", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.297554", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.388363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.405336", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.406129", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.411597", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.412184", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.418372", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.419594", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.427398", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.428200", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.439627", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:03.441369", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:03.478086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.478859", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.481772", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.488617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:03.494667", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.761346", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:16:05.761670", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:16:05.762063", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:16:05.776294", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.776978", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.783603", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.785347", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.798135", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.798819", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.876547", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.877834", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.892987", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.893993", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.909332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.911373", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.923119", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.923919", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.931541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.935808", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.944539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:05.945438", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:05.970345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.970971", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.971708", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.972159", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.977556", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:05.978091", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.105229", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.106467", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.114899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.116336", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.126642", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.127686", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.133337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.134196", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.146000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.146744", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.159601", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.160444", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.164011", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.164539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.180341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.278494", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.279302", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.289806", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.290660", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.296386", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:16:06.296977", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:16:06.311511", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.316931", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:16:06.323152", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:17:07.066911", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:17:07.068418", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:17:07.081141", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:17:07.083176", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:17:07.091774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:18:06.188901", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:18:06.194025", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:18:06.211222", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:18:06.214376", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:18:06.224063", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:19:07.004163", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:19:07.005474", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:19:07.023497", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:19:07.026428", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:19:07.042343", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:20:07.289518", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:20:07.291507", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:20:07.305488", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:20:07.308921", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:20:07.319881", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:21:05.909288", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:21:05.910314", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:21:05.928633", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:21:05.930429", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:21:05.939667", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:22:07.241265", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:22:07.242492", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:22:07.256465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:22:07.258858", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:22:07.267406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:23:08.625383", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:23:08.627313", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:23:08.642012", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:23:08.645266", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:23:08.658651", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:24:06.491565", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:24:06.493328", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:24:06.508507", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:24:06.510970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:24:06.524262", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:25:06.020110", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:25:06.021029", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:25:06.034115", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:25:06.036099", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:25:06.051687", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:26:06.002518", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:26:06.005513", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:26:06.023634", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:26:06.026100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:26:06.042472", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:27:07.298095", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:27:07.299697", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:27:07.317506", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:27:07.321484", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:27:07.346975", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:28:08.672395", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:28:08.673878", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:28:08.686403", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:28:08.688996", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:28:08.698810", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:29:10.247530", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:29:10.250192", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:29:10.279432", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:29:10.289950", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:29:10.314500", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:30:05.612900", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:30:05.637801", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:30:05.703987", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:30:05.735262", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:30:05.798018", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:31:07.245262", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:31:07.246844", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:31:07.263222", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:31:07.265123", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:31:07.280447", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:32:08.706896", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:32:08.708087", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:32:08.722650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:32:08.724892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:32:08.793638", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:33:09.941743", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:33:09.942842", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:33:09.953579", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:33:09.955872", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:33:09.971490", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:34:11.276330", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:34:11.278807", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:34:11.299445", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:34:11.306328", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:34:11.317921", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:35:10.962308", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:35:10.972520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:35:10.983840", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:35:10.987074", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:35:11.041611", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:49:24.000358", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T05:50:25.431827", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T05:51:27.418904", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T05:52:06.412130", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T05:52:09.442958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:09.443470", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:09.446469", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:09.533470", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:09.535534", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:09.570751", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:09.574083", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:09.595110", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:09.623360", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:09.894231", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:09.909349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:09.930054", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:09.930656", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:09.931309", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:09.961128", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:09.962254", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:09.975368", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:09.976650", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.002735", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.007832", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.034037", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.054154", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.078740", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.079438", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.081046", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:10.101888", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.102800", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.115317", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.116905", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.136846", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.139654", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.181261", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.191358", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.213440", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.213949", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.214869", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:10.245697", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.247570", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.277649", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.279186", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.322582", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.324674", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.394658", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.413433", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.422905", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.424568", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.467112", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.469086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.470076", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.470956", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:10.500987", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.502315", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.543951", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.547905", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.558709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.560214", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.598249", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.599914", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.616476", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.619661", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.650723", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.660849", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.662045", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.673723", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.706195", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.713222", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.726199", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.727926", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.753476", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.761758", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.763399", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.772900", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.805065", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.806370", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.821179", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.822853", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.854017", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.860631", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.862708", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.863640", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.892286", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.895404", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.903723", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.905496", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:10.931944", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.936041", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:10.970749", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:10.974116", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.974751", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:10.975413", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:10.986706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:10.987955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.002783", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.004860", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.022035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.033067", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.072303", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.077066", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.086463", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.089113", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.104423", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.105491", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.129966", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.131498", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.182582", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.185927", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.210502", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.210984", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.211731", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:11.219792", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.221777", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.231906", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.233075", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.249505", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.259997", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.303393", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.306528", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.316874", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.319033", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.340733", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.343025", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.385675", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.387706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.444616", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.452908", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.485435", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.486366", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.487331", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:11.501391", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.503953", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.542092", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.543877", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.575322", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.576911", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.621120", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.628130", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.637626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.639562", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.673527", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.675345", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.706012", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.719335", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.761187", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.784316", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.806373", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.807775", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:11.809004", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:11.819151", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.820935", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.836646", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.841233", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.859609", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.860884", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.902087", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.904668", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:11.916465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.918668", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.936896", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:11.938171", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:11.963448", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:11.967139", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.019011", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.021737", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.053947", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.054688", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.055258", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:12.066943", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.068469", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.089736", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.091581", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.119778", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.121717", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.179629", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.182733", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.195130", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.197603", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.219465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.222404", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.258098", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.268739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.307271", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.323508", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.354544", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.355477", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.356455", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:12.368253", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.372412", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.396114", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.397745", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.420816", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.432189", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.474231", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.478620", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.487669", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.490791", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.508377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.509391", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.530154", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.537852", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.570690", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.572563", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.598004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.599123", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.600019", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:12.610441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.612161", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.626553", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.627835", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.656906", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.669189", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.712059", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.714544", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.724328", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.726641", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.745570", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.747111", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.769537", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.772411", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.816415", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.819060", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:12.849257", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.850385", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:12.851375", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:12.862452", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.863988", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.889819", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:12.891320", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:12.938320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:12.939931", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.022760", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.030640", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.046385", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.048599", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.083610", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.085658", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.131246", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.147076", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.214338", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.217418", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.258310", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.259034", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.259852", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:13.274017", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.275703", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.305709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.307444", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.341823", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.353475", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.412407", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.431259", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.444756", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.446498", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.464499", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.466211", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.506215", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.523177", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.566176", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.569904", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.598616", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.599635", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.600772", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:13.612495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.614425", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.631263", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.632977", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.656735", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.658581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.700554", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.702292", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.715742", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.717810", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.738797", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.740499", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.760856", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.766595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.797090", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.799021", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.827453", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.828071", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:13.828856", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:13.841306", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.842811", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.862272", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.863873", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.895092", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.897199", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:13.954303", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.957267", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:13.972767", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.974256", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:13.992371", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:13.995601", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.035938", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.037637", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.082228", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.084956", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.108302", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.108800", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.109476", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:14.120612", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.122436", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.137217", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.139726", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.159899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.168049", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.202715", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.204553", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.213826", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.215762", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.232112", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.234266", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.250718", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.251839", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.286148", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.288395", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.311078", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.311707", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.312580", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:14.322068", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.323724", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.336865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.338264", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.359794", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.365521", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.398993", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.400929", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.409830", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.411535", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.431046", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.432808", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.462619", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.464416", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.508775", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.510712", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.560297", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.565286", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.566512", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:14.581745", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.583442", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.603930", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.605129", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.632746", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.634363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.688899", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.697121", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.708519", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.710208", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.735343", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.737864", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.774641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.777477", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:14.828090", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.845838", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:14.875268", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.876234", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:14.877640", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:14.895366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.898402", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.917879", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:14.919082", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:14.951854", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.007163", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.041631", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.061795", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.065113", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.110889", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.143547", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.149633", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.171798", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.187602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.208109", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.230120", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.251014", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:15.252175", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:15.252987", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:15.263088", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.264984", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.292917", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.297948", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.331314", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.332951", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.387136", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.415048", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.427730", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.429384", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.448352", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.453819", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.501058", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.539024", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.576909", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.603967", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.631217", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:15.632294", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:15.633765", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:15.651668", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.654176", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.687377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.689459", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.749334", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.751081", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.820845", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.841185", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:15.885004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.894478", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.916853", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:15.918801", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:15.953864", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:15.956656", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.073192", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.077714", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.144467", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:16.145608", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:16.146545", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:16.187020", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.191659", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.216904", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.219206", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.266668", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.276480", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.327450", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.334258", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.352784", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.358331", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.382026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.383360", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.406711", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.409389", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.476148", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.480123", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:16.530895", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:16.532022", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:16.533446", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:16.548223", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.549770", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.582083", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:16.584343", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:16.626637", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:16.630827", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:18.658571", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:18.677574", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:18.679157", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:18.700258", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:18.715193", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:18.716990", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:18.740908", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:18.755672", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:18.780576", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:18.802562", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:18.823963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:18.824932", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:18.825759", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:18.840421", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:18.842351", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:18.875127", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:18.876853", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:18.926996", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:18.928734", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.003978", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.010783", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.024634", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.027170", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.050308", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.052762", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.080443", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.095620", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.134762", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.146197", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.169525", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:19.170410", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:19.171289", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:19.181581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.183683", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.200902", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.203932", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.222980", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.229709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.262174", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.268633", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.276992", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.278533", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.293238", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.294451", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.315048", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.323132", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.361494", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.364480", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:19.388705", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:19.389257", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:19.389889", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:19.398837", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.401881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.414293", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:19.416258", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:19.439532", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:19.441222", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.319233", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.321612", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.336939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.339536", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.354131", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.355718", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.381564", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.384268", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.451293", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.454376", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.502891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:23.504524", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:23.506344", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:23.519228", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.520965", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.555891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.557656", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.582457", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.593715", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.642353", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.646573", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.656300", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.657627", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.682490", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.684922", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.731580", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.735015", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:23.804542", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.807952", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:23.848927", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:23.849876", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:23.851046", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:23.866602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.868479", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.922544", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:23.924056", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:23.999474", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.047888", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.135423", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.166358", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.178618", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.284452", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.304873", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.315830", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.318903", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.404297", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.411030", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.458881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.461385", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:24.462110", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:24.462924", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:24.476558", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.478204", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.497581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.499776", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.525777", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.526822", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.578143", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.583864", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.594219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.596633", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.618004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.619353", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.647330", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.648786", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.696109", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.697655", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.720547", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:24.721987", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:24.723051", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:24.733355", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.734824", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.753978", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.758493", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.784511", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.787293", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.842410", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.844905", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:24.856968", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.858633", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.879854", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:24.881994", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:24.904273", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:24.921427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.027781", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.030081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.058952", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:25.059798", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:25.060586", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:25.073602", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.076699", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.096675", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.098304", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.122341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.124075", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.176350", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.178538", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.197509", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.200831", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.209682", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.210996", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.562062", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.567360", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.668428", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.674270", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.713620", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:25.714454", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:25.715444", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:25.733362", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.736205", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.761942", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.765075", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.798357", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.799781", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.848821", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.851342", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.862412", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.863863", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.885748", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:25.887476", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:25.921003", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.922536", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:25.970925", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:25.974494", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.003263", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:26.004664", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:26.006137", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:26.019314", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.022431", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.039242", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.040676", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.063169", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.071635", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.108603", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.112727", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.120766", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.122382", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.139066", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.141934", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.160453", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.166471", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.198458", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.201701", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.230489", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:26.232253", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:52:26.233769", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:52:26.265746", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.267283", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.298091", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:52:26.299463", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:52:26.333802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.346408", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:52:26.458192", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:52:26.518806", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:53:49.114465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:53:49.134484", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:53:49.151289", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:53:54.144497", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:53:54.145922", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:53:54.165921", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:53:54.233195", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 549, "message": "Token verification failed: Invalid token: session expired"}
{"timestamp": "2025-01-16T05:53:54.233977", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "revoke_token", "line": 602, "message": "Error revoking token: 401: Invalid token: session expired"}
{"timestamp": "2025-01-16T05:53:54.237290", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 1 validation errors:\n  {'type': 'string_type', 'loc': ('response', 'message'), 'msg': 'Input should be a valid string', 'input': {'success': False, 'error_code': 'GENERAL_ERROR', 'message': 'logout_successful', 'status_code': 500}}\n", "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'string_type', 'loc': ('response', 'message'), 'msg': 'Input should be a valid string', 'input': {'success': False, 'error_code': 'GENERAL_ERROR', 'message': 'logout_successful', 'status_code': 500}}\n", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n", "fastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'string_type', 'loc': ('response', 'message'), 'msg': 'Input should be a valid string', 'input': {'success': False, 'error_code': 'GENERAL_ERROR', 'message': 'logout_successful', 'status_code': 500}}\n\n"]}}
{"timestamp": "2025-01-16T05:54:12.226388", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "cc7cd97b-184e-411c-bd7e-9506615fdaec"}
{"timestamp": "2025-01-16T05:54:12.288129", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:12.288666", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:12.288906", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T05:54:12.289163", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "cc7cd97b-184e-411c-bd7e-9506615fdaec"}
{"timestamp": "2025-01-16T05:54:12.302849", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:12.303199", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:12.303557", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:54:12.356360", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "70f21767-7f37-4d14-b43a-229d4ed71707"}
{"timestamp": "2025-01-16T05:54:12.366163", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:12.366639", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:12.366929", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T05:54:12.367198", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "70f21767-7f37-4d14-b43a-229d4ed71707"}
{"timestamp": "2025-01-16T05:54:19.235314", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "59b988f6-aa25-40bd-b2ad-503840c331ce"}
{"timestamp": "2025-01-16T05:54:19.245588", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:19.246038", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:19.246285", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T05:54:19.246572", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "59b988f6-aa25-40bd-b2ad-503840c331ce"}
{"timestamp": "2025-01-16T05:54:19.260254", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:19.260554", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:19.260914", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:54:19.327182", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "f9ae9524-7586-494a-b9cf-2a81cae2f087"}
{"timestamp": "2025-01-16T05:54:19.337081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:19.337488", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:19.337716", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T05:54:19.337953", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "f9ae9524-7586-494a-b9cf-2a81cae2f087"}
{"timestamp": "2025-01-16T05:54:33.243243", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "b9e29713-b658-4f9d-bb2e-98876b3622f9"}
{"timestamp": "2025-01-16T05:54:33.260941", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:33.261428", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:33.261712", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:54:33.262045", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "b9e29713-b658-4f9d-bb2e-98876b3622f9"}
{"timestamp": "2025-01-16T05:54:33.280890", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:33.281214", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:33.281628", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:54:33.336982", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "224e7417-3700-4cbd-bea7-c39fd9713a32"}
{"timestamp": "2025-01-16T05:54:33.349349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:33.349844", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:33.350084", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:54:33.350539", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "224e7417-3700-4cbd-bea7-c39fd9713a32"}
{"timestamp": "2025-01-16T05:54:37.071315", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "b147508e-b8c2-4c5b-ad5b-d2b896a5a11b"}
{"timestamp": "2025-01-16T05:54:37.081065", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:37.081535", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:37.081770", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:54:37.082114", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "b147508e-b8c2-4c5b-ad5b-d2b896a5a11b"}
{"timestamp": "2025-01-16T05:54:37.097919", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:37.098465", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:54:37.099214", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:54:37.151765", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "823f6dc2-f48d-4f88-80b0-f786e6fc0d3a"}
{"timestamp": "2025-01-16T05:54:37.167689", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:54:37.168678", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:54:37.169160", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:54:37.169725", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "823f6dc2-f48d-4f88-80b0-f786e6fc0d3a"}
{"timestamp": "2025-01-16T05:55:19.838049", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "36ff1c9f-07c9-46e3-813e-d0259310f847"}
{"timestamp": "2025-01-16T05:55:19.993721", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:55:19.995830", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:55:19.996217", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:55:19.996609", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "36ff1c9f-07c9-46e3-813e-d0259310f847"}
{"timestamp": "2025-01-16T05:55:20.035122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:55:20.035995", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:55:20.037015", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:55:20.098305", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "5684e558-80aa-4071-988c-5a7dfcd0ca32"}
{"timestamp": "2025-01-16T05:55:20.108780", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:55:20.109247", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:55:20.109488", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:55:20.109736", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "5684e558-80aa-4071-988c-5a7dfcd0ca32"}
{"timestamp": "2025-01-16T05:55:37.999326", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "e5ccdc01-dc47-414d-9357-8024592ec77d"}
{"timestamp": "2025-01-16T05:55:38.080597", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:55:38.081203", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:55:38.081709", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:55:38.082267", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "e5ccdc01-dc47-414d-9357-8024592ec77d"}
{"timestamp": "2025-01-16T05:55:38.112545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:55:38.113218", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T05:55:38.113864", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T05:55:38.181121", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "aefe3c57-78db-4f70-a2e3-450ff3cf8e2b"}
{"timestamp": "2025-01-16T05:55:38.200060", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T05:55:38.201394", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T05:55:38.202194", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T05:55:38.203160", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "aefe3c57-78db-4f70-a2e3-450ff3cf8e2b"}
{"timestamp": "2025-01-16T05:56:38.895557", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:56:38.900081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:56:38.920624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:56:38.923004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:56:38.932780", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:57:39.554511", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:57:39.555647", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:57:39.568514", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:57:39.570405", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:57:39.579989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:58:40.004368", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:58:40.005463", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:58:40.016614", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:58:40.020300", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:58:40.029401", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:59:38.616409", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:59:38.619829", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T05:59:38.635069", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T05:59:38.637622", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T05:59:38.648412", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:00:39.039011", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:00:39.045509", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:00:39.066561", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:00:39.069815", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:00:39.083956", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:01:40.536824", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:01:40.538324", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:01:40.553941", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:01:40.555802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:01:40.563716", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:02:41.832910", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:02:41.835177", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:02:41.851949", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:02:41.856083", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:02:41.869703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:03:34.606285", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "f4893fdf-d286-4313-925e-8f5ad882ed72"}
{"timestamp": "2025-01-16T06:03:34.788113", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:03:34.789316", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:03:34.789644", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:03:34.794866", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "f4893fdf-d286-4313-925e-8f5ad882ed72"}
{"timestamp": "2025-01-16T06:03:34.861517", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:03:34.861918", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:03:34.869658", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T06:03:34.879286", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "d0ea4541-24a8-4940-a14f-8cfb16405788"}
{"timestamp": "2025-01-16T06:03:34.892125", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:03:34.892651", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:03:34.892943", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:03:34.893273", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "d0ea4541-24a8-4940-a14f-8cfb16405788"}
{"timestamp": "2025-01-16T06:04:36.179000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:04:36.206253", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:04:36.241283", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:04:36.266795", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:04:36.323531", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:05:35.822937", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:05:35.825462", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:05:35.838835", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:05:35.850584", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:05:35.861032", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:06:37.013266", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:06:37.015630", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:06:37.033496", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:06:37.038327", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:06:37.050340", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:07:35.296136", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:07:35.297676", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:07:35.316764", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:07:35.320427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:07:35.337291", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:08:35.997271", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:08:36.001081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:08:36.020309", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:08:36.024810", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:08:36.036989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:09:37.621320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:09:37.641526", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:09:37.658052", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:09:37.660691", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:09:37.718544", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:10:08.883713", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "84e4c658-07f2-444e-8cc7-0864a8ebcb2e"}
{"timestamp": "2025-01-16T06:10:09.486630", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:10:09.489676", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:10:09.490611", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:10:09.491813", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "84e4c658-07f2-444e-8cc7-0864a8ebcb2e"}
{"timestamp": "2025-01-16T06:10:09.597725", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 440, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:10:09.598700", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 886, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:10:09.600460", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T06:10:09.655361", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "cff68e7a-31d4-4b2b-b9a4-6b72be993812"}
{"timestamp": "2025-01-16T06:10:09.704855", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:10:09.715467", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:10:09.730009", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:10:09.730833", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "cff68e7a-31d4-4b2b-b9a4-6b72be993812"}
{"timestamp": "2025-01-16T06:11:00.509019", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "5eceb12f-8bb5-47bb-9f84-a07028885bf5"}
{"timestamp": "2025-01-16T06:11:00.527045", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:11:00.528056", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:11:00.528365", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email mikailismail260@gmail.com"}
{"timestamp": "2025-01-16T06:11:00.528663", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "5eceb12f-8bb5-47bb-9f84-a07028885bf5"}
{"timestamp": "2025-01-16T06:11:11.303694", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:11:11.305966", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:11:11.345652", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:11:11.353341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:11:11.375150", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:12:09.409086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:12:09.411029", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:12:09.427434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:12:09.429570", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:12:09.440162", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:13:09.803417", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:13:09.805949", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:13:09.821321", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:13:09.824376", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:13:09.833727", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:14:10.546405", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:14:10.547872", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 633, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 620, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:14:10.560638", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:14:10.562880", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 970, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:14:10.575009", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 990, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:15:10.412661", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T06:15:22.549659", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "f3c77eb6-ee00-4407-94d0-86cf464e5d88"}
{"timestamp": "2025-01-16T06:15:22.641874", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:15:22.643798", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:15:22.644984", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:15:22.649364", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "f3c77eb6-ee00-4407-94d0-86cf464e5d88"}
{"timestamp": "2025-01-16T06:15:22.664557", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 315, "message": "No refresh token found in cookies or headers"}
{"timestamp": "2025-01-16T06:16:13.296143", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "d860a3c8-9aa2-4a9b-890c-60a1731ac9b9"}
{"timestamp": "2025-01-16T06:16:13.408983", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:16:13.411965", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:16:13.412470", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:16:13.413059", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "d860a3c8-9aa2-4a9b-890c-60a1731ac9b9"}
{"timestamp": "2025-01-16T06:16:13.425219", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 315, "message": "No refresh token found in cookies or headers"}
{"timestamp": "2025-01-16T06:19:42.762530", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "66f68b14-3a4c-4079-97f9-40de95f0a5a2"}
{"timestamp": "2025-01-16T06:19:42.880498", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "get_user_by_email", "line": 326, "message": "Error retrieving user by email: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT students.user_id AS students_user_id, students.id AS students_id, students.name AS students_name, students.date_of_birth AS students_date_of_birth, students.admission_number AS students_admission_number, students.gender AS students_gender, students.phone AS students_phone, students.address AS students_address, students.class_id AS students_class_id, students.stream_id AS students_stream_id, students.parent_id AS students_parent_id, students.emergency_contact_name AS students_emergency_contact_name, students.emergency_contact_phone AS students_emergency_contact_phone, students.emergency_contact_relationship AS students_emergency_contact_relationship, students.created_at AS students_created_at, students.updated_at AS students_updated_at, students.school_id AS students_school_id \nFROM students \nWHERE students.user_id IN ($1::INTEGER)]\n[parameters: (24,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:19:42.884072", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "record_failed_attempt", "line": 371, "message": "Failed login attempt recorded"}
{"timestamp": "2025-01-16T06:19:42.884720", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 664, "message": "Login attempt failed: User not found for email abdihujale85@gmail.com"}
{"timestamp": "2025-01-16T06:19:42.885107", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 267, "message": "Invalid credentials provided", "request_id": "66f68b14-3a4c-4079-97f9-40de95f0a5a2"}
{"timestamp": "2025-01-16T06:19:42.904473", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 315, "message": "No refresh token found in cookies or headers"}
{"timestamp": "2025-01-16T06:26:27.749279", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "cc990f68-be53-4130-b247-1ea5ef3470af"}
{"timestamp": "2025-01-16T06:26:28.136794", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 710, "message": "Generating tokens", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.213850", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.214453", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.214901", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 727, "message": "Token expiration times"}
{"timestamp": "2025-01-16T06:26:28.215658", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 767, "message": "User logged in successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.218036", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 236, "message": "Login successful", "request_id": "cc990f68-be53-4130-b247-1ea5ef3470af", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.323014", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.323713", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:26:28.324382", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T06:27:29.050320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:27:29.051955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:27:29.074858", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:27:29.077641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:27:29.088326", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:29.688743", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:29.690520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:29.702288", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:29.704396", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:29.711791", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:58.784201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:58.785931", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:58.806515", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:58.808244", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:58.849930", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:28:58.850594", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T06:28:58.852425", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T06:28:58.853999", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:58.864470", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:58.955165", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:58.956196", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:58.974537", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.097892", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 885, "message": "Database error in get_students: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exception": {"type": "ProgrammingError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 514, in _prepare_and_execute\n    prepared_stmt, attributes = await adapt_connection._prepare(\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 760, in _prepare\n    prepared_stmt = await self._connection.prepare(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 636, in prepare\n    return await self._prepare(\n           ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 654, in _prepare\n    stmt = await self._get_statement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 433, in _get_statement\n    statement = await self._protocol.prepare(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 166, in prepare\n", "asyncpg.exceptions.UndefinedColumnError: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 842, in get_students\n    total_count = await db.execute(count_stmt)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 461, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2362, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2247, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 305, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}}
{"timestamp": "2025-01-16T06:28:59.145319", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.146435", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.180429", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.201569", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 885, "message": "Database error in get_students: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exception": {"type": "ProgrammingError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 514, in _prepare_and_execute\n    prepared_stmt, attributes = await adapt_connection._prepare(\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 760, in _prepare\n    prepared_stmt = await self._connection.prepare(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 636, in prepare\n    return await self._prepare(\n           ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 654, in _prepare\n    stmt = await self._get_statement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 433, in _get_statement\n    statement = await self._protocol.prepare(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 166, in prepare\n", "asyncpg.exceptions.UndefinedColumnError: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 842, in get_students\n    total_count = await db.execute(count_stmt)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 461, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2362, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2247, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 305, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}}
{"timestamp": "2025-01-16T06:28:59.245670", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.247254", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.261887", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.262872", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.276107", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.277314", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.290715", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.292012", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.345377", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.348408", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.354651", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.355466", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.393142", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 2: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (2, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.395071", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 8: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (8, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.486284", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.488283", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.494697", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.495412", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.511750", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.512663", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.572527", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 3: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (3, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.590065", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.591728", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.605486", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.606508", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.619248", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 4: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (4, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.627354", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.628152", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.642307", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 6: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (6, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.682696", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.683447", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.700072", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.700781", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.718356", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 5: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (5, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.726495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.730012", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.746000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.746738", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.752809", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.761219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.768332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.808336", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 9: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (9, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.809390", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 7: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (7, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.812202", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.821666", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 10: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (10, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.835349", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.836107", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.842696", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.843250", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.883452", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.884114", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.894065", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 12: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (12, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.909327", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 11: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (11, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.912191", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.912796", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.924992", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 13: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (13, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:28:59.929410", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.930151", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.935366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.937938", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.950525", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:28:59.952227", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:28:59.959335", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:28:59.978312", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.015329", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.016380", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 26: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (26, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.019477", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 14: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (14, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.029321", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.034043", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.035152", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.048970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.049654", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.061491", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 2: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (2, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.075358", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 8: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (8, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.078107", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.079021", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.109875", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.111043", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.121233", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 3: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (3, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.135690", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.136545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.138721", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 4: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (4, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.140991", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.141667", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.169576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.171125", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.184216", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.196947", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.215863", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 5: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (5, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.217193", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 6: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (6, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.221492", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.241066", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.242081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.248407", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.249000", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.255193", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.262788", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 9: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (9, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.280025", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 7: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (7, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.282060", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.283059", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.307332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:00.308137", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:00.317341", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 10: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (10, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.330835", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.332366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.345532", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 12: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (12, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.355935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.367702", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:00.390517", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 13: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (13, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.391776", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 11: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (11, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.414287", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 26: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (26, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:00.422801", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 14: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (14, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T06:29:59.631648", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:59.644749", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:29:59.661978", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:29:59.665711", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:29:59.682276", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:30:57.486058", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:30:57.497425", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:30:57.552521", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:30:57.558705", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:30:57.577117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:31:57.793678", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:31:57.798477", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:31:57.819016", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:31:57.821579", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:31:57.832545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:32:58.854353", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:32:58.866757", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:32:58.885496", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:32:58.888657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:32:58.899130", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:33:59.259281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:33:59.265178", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:33:59.281910", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:33:59.284182", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:33:59.296839", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:34:59.547076", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:34:59.548927", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:34:59.562149", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:34:59.565434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:34:59.576481", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:35:59.189941", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:35:59.192418", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:35:59.206086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:35:59.208264", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:35:59.218139", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:37:00.441282", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:37:00.446077", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:37:00.456989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:37:00.458716", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:37:00.466694", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:38:01.446535", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:38:01.449078", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:38:01.459006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:38:01.460891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:38:01.473769", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:39:02.829485", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:39:02.830438", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:39:02.840650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:39:02.842565", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:39:02.852892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:40:04.298428", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:40:04.301007", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:40:04.311408", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:40:04.313684", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:40:04.328984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:41:04.029953", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:41:04.064305", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:41:04.097256", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:41:04.099624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:41:04.136831", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:42:05.356117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:42:05.368906", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:42:05.390743", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:42:05.393207", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:42:05.411097", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:43:06.635699", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:43:06.641373", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:43:06.659966", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:43:06.662441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:43:06.676661", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:44:07.775970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:44:07.777075", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:44:07.792337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:44:07.795157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:44:07.803437", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:45:08.989922", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:45:08.990918", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T06:45:09.000619", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T06:45:09.003068", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T06:45:09.013599", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:12.659821", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T07:09:18.883657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:09:18.886066", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:09:19.167011", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T07:09:19.387495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:19.390558", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:19.490643", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:19.497417", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:19.888860", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:19.897346", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:27.646691", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 885, "message": "Database error in get_students: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exception": {"type": "ProgrammingError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 514, in _prepare_and_execute\n    prepared_stmt, attributes = await adapt_connection._prepare(\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 760, in _prepare\n    prepared_stmt = await self._connection.prepare(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 636, in prepare\n    return await self._prepare(\n           ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 654, in _prepare\n    stmt = await self._get_statement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 433, in _get_statement\n    statement = await self._protocol.prepare(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 166, in prepare\n", "asyncpg.exceptions.UndefinedColumnError: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 842, in get_students\n    total_count = await db.execute(count_stmt)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 461, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2362, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2247, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 305, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}}
{"timestamp": "2025-01-16T07:09:28.275743", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:28.282524", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:28.355122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:28.758968", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:28.760965", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.140933", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:29.163540", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:29.175954", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.251788", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 885, "message": "Database error in get_students: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exception": {"type": "ProgrammingError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 514, in _prepare_and_execute\n    prepared_stmt, attributes = await adapt_connection._prepare(\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 760, in _prepare\n    prepared_stmt = await self._connection.prepare(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 636, in prepare\n    return await self._prepare(\n           ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 654, in _prepare\n    stmt = await self._get_statement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 433, in _get_statement\n    statement = await self._protocol.prepare(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 166, in prepare\n", "asyncpg.exceptions.UndefinedColumnError: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 842, in get_students\n    total_count = await db.execute(count_stmt)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 461, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2362, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2247, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 305, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}}
{"timestamp": "2025-01-16T07:09:29.471999", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:29.473933", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.559935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:29.572857", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.629800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:29.676423", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:29.679805", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.741102", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:29.743457", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:29.892044", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.253980", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.323520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 3: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (3, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:30.341677", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.342964", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.455548", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:30.458513", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:30.519600", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 2: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (2, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:30.632518", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 8: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (8, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:30.688210", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:30.698422", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:30.755293", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:30.757312", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:30.806928", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 7: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (7, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:30.840041", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.866239", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:30.871687", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:30.943501", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:30.957234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:31.125049", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 6: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (6, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:31.146610", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:31.519563", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:31.521432", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:31.851101", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 5: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (5, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:31.902980", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 10: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (10, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:31.905398", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 9: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (9, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:31.962341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:31.974046", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:32.051099", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:32.052786", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:32.100845", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:32.102056", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:32.239992", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 12: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (12, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:32.275118", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:32.504007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:32.592510", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 4: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (4, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:32.600178", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:32.612097", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:32.976877", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 13: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (13, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:33.075528", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 11: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (11, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:33.794634", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 26: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (26, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:35.037042", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "class_service", "function": "list_streams", "line": 425, "message": "Error fetching streams for class 14: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students_1.gender does not exist\n[SQL: SELECT streams.id, streams.name, streams.class_id, streams.school_id, students_1.id AS id_1, students_1.name AS name_1, students_1.date_of_birth, students_1.admission_number, students_1.gender, students_1.phone, students_1.address, students_1.class_id AS class_id_1, students_1.stream_id, students_1.user_id, students_1.parent_id, students_1.emergency_contact_name, students_1.emergency_contact_phone, students_1.emergency_contact_relationship, students_1.created_at, students_1.updated_at, students_1.school_id AS school_id_1, classes_1.id AS id_2, classes_1.name AS name_2, classes_1.school_id AS school_id_2 \nFROM streams LEFT OUTER JOIN students AS students_1 ON streams.id = students_1.stream_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.id = streams.class_id \nWHERE streams.class_id = $1::INTEGER AND streams.school_id = $2::INTEGER]\n[parameters: (14, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2025-01-16T07:09:54.111344", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:09:54.524899", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:09:54.692334", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:09:55.267435", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "admin", "function": "get_students", "line": 885, "message": "Database error in get_students: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exception": {"type": "ProgrammingError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 514, in _prepare_and_execute\n    prepared_stmt, attributes = await adapt_connection._prepare(\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 760, in _prepare\n    prepared_stmt = await self._connection.prepare(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 636, in prepare\n    return await self._prepare(\n           ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 654, in _prepare\n    stmt = await self._get_statement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/connection.py\", line 433, in _get_statement\n    statement = await self._protocol.prepare(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 166, in prepare\n", "asyncpg.exceptions.UndefinedColumnError: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/admin.py\", line 842, in get_students\n    total_count = await db.execute(count_stmt)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 461, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2362, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2247, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 305, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column students.gender does not exist\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT students.id AS id, students.name AS name, students.date_of_birth AS date_of_birth, students.admission_number AS admission_number, students.gender AS gender, students.phone AS phone, students.address AS address, students.class_id AS class_id, students.stream_id AS stream_id, students.user_id AS user_id, students.parent_id AS parent_id, students.emergency_contact_name AS emergency_contact_name, students.emergency_contact_phone AS emergency_contact_phone, students.emergency_contact_relationship AS emergency_contact_relationship, students.created_at AS created_at, students.updated_at AS updated_at, students.school_id AS school_id \nFROM students \nWHERE students.school_id = $1::INTEGER AND students.school_id = $2::INTEGER) AS anon_1]\n[parameters: (23, 23)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}}
{"timestamp": "2025-01-16T07:10:19.117496", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:10:19.129547", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:10:19.259399", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:10:19.298579", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:10:19.383678", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:11:19.288561", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:11:19.378628", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:11:19.698241", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:11:20.250465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:11:20.461367", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:12:19.301040", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:12:19.317260", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:12:19.333430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:12:19.336097", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:12:19.404626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:13:19.873155", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:13:19.888556", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:13:19.903759", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:13:19.906489", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:13:19.972270", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:14:20.210172", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:14:20.214162", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:14:20.236349", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:14:20.239808", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:14:20.253599", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:15:20.050039", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:15:20.051209", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:15:20.066247", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:15:20.068500", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:15:20.079046", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:16:21.773163", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:16:21.792737", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:16:21.812495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:16:21.817617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:16:21.892992", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:17:23.207631", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:17:23.211187", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:17:23.233374", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:17:23.236860", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:17:23.248700", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:33.868247", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:33.906249", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:22:33.922742", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:33.923967", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:22:33.936605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:33.937546", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:22:33.944605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:33.945306", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:22:33.955006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:33.955904", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:22:33.994993", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:33.997753", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:33.998568", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.006607", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:34.012592", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:34.014881", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.015589", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.016798", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:34.023000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:34.027343", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:22:34.368999", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.382880", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.390780", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.397320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:22:34.408882", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:23:29.248385", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:23:29.263360", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:23:29.297369", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:23:29.301870", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:23:29.325660", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:24:29.182039", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:24:29.183502", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:24:29.199711", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:24:29.203893", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:24:29.217242", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:25:30.441744", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:25:30.491806", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:25:30.515969", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:25:30.523493", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:25:30.642117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:26:31.586553", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:26:31.620859", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:26:31.644774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:26:31.651234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:26:31.705014", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:27:32.796028", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:27:32.798136", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:27:32.818339", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:27:32.821147", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:27:32.834321", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:28:34.077512", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:28:34.092457", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:28:34.128318", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:28:34.132302", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:28:34.148371", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:29:33.792378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:29:33.794294", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:29:33.808352", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:29:33.811174", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:29:33.823236", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:30:34.889648", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:30:34.913118", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:30:34.937130", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:30:34.940413", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:30:34.954145", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:31:36.397991", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:31:36.434307", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:31:36.469086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:31:36.472103", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:31:36.655572", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:32:37.901495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:32:37.926364", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:32:37.973891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:32:37.982911", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:32:38.324489", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:33:39.226164", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:33:39.228187", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:33:39.247277", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:33:39.250949", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:33:39.260956", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:01.907641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:34:01.908157", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:34:01.910357", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T07:34:02.382370", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:02.383967", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:02.406578", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:02.625026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:02.626212", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:02.643434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:02.990433", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:02.991238", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:02.999079", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.000162", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.033047", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.038952", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.127023", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.127795", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.145784", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.154800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.155532", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.173672", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.191892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.193118", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.217780", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.222974", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.223653", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.239094", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.255650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.256722", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.272787", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.305333", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.307034", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.315832", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.316650", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.359774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.360775", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.368625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.369391", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.379329", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.380325", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.409141", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.409947", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.416799", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.417779", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.426434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.429935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.430624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.553921", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:34:03.622046", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:34:03.622809", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:34:03.653103", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:35:02.990867", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:35:02.994292", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:35:03.014216", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:35:03.017355", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:35:03.030236", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:36:03.747649", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:36:03.752022", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:36:03.777281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:36:03.780264", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:36:03.791075", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:36:10.826128", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:36:10.827030", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:36:10.840486", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:40:56.701515", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:40:56.777513", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T07:40:56.899394", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T07:40:57.731106", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:40:58.019520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:40:58.697058", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:40:59.059077", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:41:00.725382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:41:00.758443", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:41:07.795560", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:41:07.999057", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:41:08.783955", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:41:08.859337", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:41:09.114479", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:41:09.460657", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:41:10.459916", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:41:10.771059", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:07.406220", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:18.617514", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:20.862078", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:20.946765", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:21.043706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:21.249147", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:21.251961", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:21.255898", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:21.368535", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:21.659148", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:22.674392", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:22.676226", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:22.745537", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:22.747149", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:22.800434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:22.801815", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:22.828017", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:22.834176", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:22.891617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:22.893286", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:22.931740", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:22.955657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.012192", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.015476", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.093453", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.256435", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.258639", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.322738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.324201", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.369896", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.372054", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.439429", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.442305", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.480122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.490751", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.553840", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.596478", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.607221", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.608745", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T07:43:23.651138", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.713777", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.717214", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.783818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.810802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T07:43:23.895100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:23.987193", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T07:43:24.006641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:30:51.129944", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 216, "message": "Login attempt initiated", "request_id": "be9f131d-1ee9-4c33-b51e-9c9455b34c67"}
{"timestamp": "2025-01-16T08:30:51.525629", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 710, "message": "Generating tokens", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.544255", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.544892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.545240", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 727, "message": "Token expiration times"}
{"timestamp": "2025-01-16T08:30:51.545925", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "authenticate_user", "line": 767, "message": "User logged in successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.546708", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 236, "message": "Login successful", "request_id": "be9f131d-1ee9-4c33-b51e-9c9455b34c67", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.659514", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.660051", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:30:51.660883", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T08:31:52.750258", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:31:52.757439", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:31:52.783272", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:31:52.787752", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:31:52.801366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:43.997720", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.010927", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.018984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.019920", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.073866", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.075078", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.176414", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:32:44.176783", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:32:44.177186", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T08:32:44.198112", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.199635", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.235825", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.304457", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.308027", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.327471", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.625006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.626707", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.633127", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.633770", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.646014", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.646870", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.654201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.655380", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.700694", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.705901", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.712345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.713820", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.838871", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.839815", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.893876", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:44.952809", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.953837", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.960436", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.961066", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.966961", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.967809", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:44.980956", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:44.981853", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.007182", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.007943", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.013762", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.014584", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.021075", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.024826", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.029253", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.044919", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.066172", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.068238", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.254879", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.255718", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.271485", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.272253", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.278615", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.279403", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.312777", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.318684", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.319888", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.334055", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.340958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.354503", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.356194", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.364889", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.365538", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.396800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.419706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.420470", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.429731", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.434461", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.444144", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.444920", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.452706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.453930", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.491606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.498719", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.501223", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.512954", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.513585", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.524957", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.525732", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.533131", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.533770", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.564347", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.569853", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.570682", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.580276", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.581427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.582015", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.591487", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.614552", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.615213", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.637235", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.645225", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.654607", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.655229", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.667873", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:45.669203", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:45.677365", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.703770", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:45.719349", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:32:56.649108", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:32:56.653809", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:32:56.673607", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:33:45.360876", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:33:45.365234", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:33:45.383884", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:33:45.386640", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:33:45.398162", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:34:45.102662", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:34:45.104595", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:34:45.120450", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:34:45.123070", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:34:45.133940", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:35:45.594468", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:35:45.596246", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:35:45.607328", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:35:45.610491", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:35:45.619423", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:36:45.635887", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:36:45.637117", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:36:45.650327", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:36:45.652628", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:36:45.663527", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:37:44.593627", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:37:44.596326", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:37:44.607286", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:37:44.609617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:37:44.662507", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:15.377035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:15.417385", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:15.431427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:15.432111", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:15.477958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:15.478838", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:15.884573", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:15.887263", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:15.917567", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:15.919179", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:15.928146", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:15.929328", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:15.948625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:15.958617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:15.959655", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.086527", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.087589", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.169995", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.206910", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.208179", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.221463", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.222574", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.241891", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.244594", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.327461", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.332584", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.452656", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.456558", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.458768", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.652320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.654189", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.777787", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.779452", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.813575", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.920735", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:16.922519", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:16.954224", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:16.973848", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:17.071803", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:17.079081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:17.149793", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:17.151521", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:17.185516", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:17.221665", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:17.226897", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:17.296128", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:17.335864", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:17.376289", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:27.502426", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:27.540540", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:27.582664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:44.782201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:44.819734", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:38:44.856391", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:38:44.870576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:38:45.056603", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:39:46.998657", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:39:47.024885", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:39:47.042507", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:39:47.045098", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:39:47.110562", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:40:47.110976", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:40:47.116060", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:40:47.128775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:40:47.132947", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:40:47.192606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.263494", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.266183", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.284232", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.285632", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.514653", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.521492", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.638122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.639454", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.647599", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.649002", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.658520", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.659915", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.685359", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.686625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.689100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:44.972482", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.974582", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:44.991606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:44.993360", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:45.009375", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:45.010710", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:45.085337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:45.087674", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:45.089040", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:45.326596", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:45.328687", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:45.745594", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:45.760576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:45.763114", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:45.825128", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:45.832347", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:45.933456", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:45.935727", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:46.043175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:46.052120", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:46.102488", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.123035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.163175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:46.165315", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:46.208890", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:46.210666", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:46.229552", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.287869", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.340126", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.362473", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:46.364567", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:46.404101", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:46.512435", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:48.179778", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:48.181231", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:41:48.198508", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:41:48.200984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:41:48.212823", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:42:49.342038", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:42:49.350034", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:42:49.362959", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:42:49.365731", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:42:49.375371", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:43:50.405133", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:43:50.406306", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:43:50.415885", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:43:50.417806", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:43:50.426774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:44:51.936709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:44:51.938494", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:44:51.949925", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:44:51.954023", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:44:51.963813", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:45:51.948337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:45:51.958582", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:45:51.971482", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:45:51.974984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:45:52.039399", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:46:38.416869", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:46:38.418151", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:46:38.429387", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:46:44.778630", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:46:44.781264", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:46:44.806277", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:46:44.808710", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:46:44.820217", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:46:48.967651", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:46:48.968898", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:46:48.986575", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:47:45.463788", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:47:45.466293", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:47:45.478450", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:47:45.481416", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:47:45.496985", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:48:48.979079", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:48:48.982780", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:48:48.995695", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:48:49.001148", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:48:49.072928", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:49:45.790467", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:49:45.793607", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:49:45.810988", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:49:45.815208", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:49:45.834775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:50:46.912367", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:50:46.914110", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:50:46.933144", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:50:46.935960", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:50:46.954824", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:51:45.123007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:51:45.125227", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:51:45.141443", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:51:45.143738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:51:45.153833", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:52:00.684182", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:52:00.688210", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:52:00.707571", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:52:45.237174", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:52:45.238667", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:52:45.256546", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:52:45.260236", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:52:45.281407", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:53:48.945306", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:53:48.951201", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:53:48.968628", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:53:48.971724", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:53:49.034202", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:53:53.935166", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:53:53.936317", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:53:53.953145", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:54:45.712805", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:54:45.714345", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:54:45.725346", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:54:45.728206", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:54:45.737106", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:37.953952", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:37.972556", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:37.982562", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:37.983182", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:37.991048", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:37.991901", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:38.046235", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.046795", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.047383", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.053299", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:38.055166", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:38.056955", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:38.207671", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:58:38.208759", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T08:58:38.210578", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T08:58:38.232873", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.234354", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.236761", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:38.983691", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:38.984540", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:38.993973", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:38.994993", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.014104", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.021545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.078450", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 'coroutine' object has no attribute 'scalar_one_or_none'", "exception": {"type": "AttributeError", "message": "'coroutine' object has no attribute 'scalar_one_or_none'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/student_management.py\", line 198, in get_students\n    ).scalar_one_or_none()\n      ^^^^^^^^^^^^^^^^^^\n", "AttributeError: 'coroutine' object has no attribute 'scalar_one_or_none'\n"]}}
{"timestamp": "2025-01-16T08:58:39.443812", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.445495", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.461156", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.462518", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.488664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.493854", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.558587", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.563129", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.582559", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.704413", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.705801", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.763892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.766367", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.844109", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.845375", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.855033", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.855964", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.870339", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.871315", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.887215", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.913983", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:39.915202", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:39.930463", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.931745", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.948240", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:39.949501", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.093765", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.253720", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:40.254868", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:40.271143", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:40.272151", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:40.331010", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:40.332526", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:40.350986", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:40.352519", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:40.367786", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.372244", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:40.373283", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:40.390452", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.414548", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.416225", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:40.448745", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:46.250535", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:58:46.251325", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:58:46.261384", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:58:46.274922", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 'coroutine' object has no attribute 'scalar_one_or_none'", "exception": {"type": "AttributeError", "message": "'coroutine' object has no attribute 'scalar_one_or_none'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/student_management.py\", line 198, in get_students\n    ).scalar_one_or_none()\n      ^^^^^^^^^^^^^^^^^^\n", "AttributeError: 'coroutine' object has no attribute 'scalar_one_or_none'\n"]}}
{"timestamp": "2025-01-16T08:59:39.650016", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:59:39.669272", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T08:59:39.702753", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T08:59:39.706566", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T08:59:39.734313", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:00:38.954479", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:00:38.979232", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:00:38.994648", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:00:38.998410", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:00:39.066738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:00:44.701309", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:00:44.702438", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:00:44.716683", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:01:38.799128", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:01:38.800381", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:01:38.810976", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:01:38.812945", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:01:38.823998", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:02:39.281277", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:02:39.282853", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:02:39.300679", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:02:39.305462", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:02:39.320228", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:03:39.489998", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:03:39.493574", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:03:39.507796", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:03:39.509735", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:03:39.517446", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:40.942254", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:40.944221", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:40.957758", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:40.960015", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:40.971405", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:55.798809", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:04:55.801290", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:04:55.802294", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T09:04:55.934672", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:55.936163", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:55.970692", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.014865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.016360", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.040406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.084033", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.085107", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.100438", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.137800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.139106", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.148611", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.170785", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.171760", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.180197", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.201894", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.202911", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.211859", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.233154", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.234387", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.240591", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.241271", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.252035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.255730", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.330590", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.338432", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.356778", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.357795", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.371899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.373117", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.388288", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.389188", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.403833", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.405930", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.469057", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.470218", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:56.483978", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.494401", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.495763", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.517152", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.519123", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.701277", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:56.725451", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:56.726725", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:57.032343", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:04:57.033175", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:04:57.104441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:04:57.127990", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:05:57.552199", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:05:57.553466", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:05:57.565200", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:05:57.567872", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:05:57.575959", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:06:57.727964", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:06:57.729040", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:06:57.739963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:06:57.742610", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:06:57.752539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:07:57.929251", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:07:57.930192", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:07:57.941887", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:07:57.943964", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:07:57.955341", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:08:57.107191", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:08:57.109567", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:08:57.121374", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:08:57.124227", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:08:57.138681", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:09:56.989724", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:09:56.992552", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:09:57.008392", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:09:57.011378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:09:57.025148", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:10:58.458721", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:10:58.460095", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:10:58.474691", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:10:58.476918", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:10:58.489081", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:11:59.654104", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:11:59.655554", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:11:59.667271", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:11:59.669701", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:11:59.678201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:13:00.815062", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:13:00.816278", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:13:00.827271", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:13:00.829301", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:13:00.838857", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:14:01.986382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:14:01.989174", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:14:02.014301", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:14:02.020086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:14:02.029539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:15:02.079664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:15:02.085541", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:15:02.098745", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:15:02.100874", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:15:02.112362", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:16:03.274662", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:16:03.279900", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:16:03.301988", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:16:03.305393", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:16:03.315905", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:17:04.454517", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:17:04.455835", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:17:04.466880", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:17:04.470170", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:17:04.485540", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:18:28.497000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:18:37.368319", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:19:16.559117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:19:16.938651", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:19:17.860366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:22:48.600400", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:22:48.610049", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:22:48.614857", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T09:22:48.654689", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:22:48.655711", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:22:48.680119", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:23:49.284583", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:23:49.333909", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:23:49.372367", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:23:49.379543", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:23:49.435664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:24:49.201417", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:24:49.203895", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:24:49.219178", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:24:49.233677", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:24:49.244230", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:25:48.323679", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:25:48.325661", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:25:48.338606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:25:48.340599", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:25:48.351456", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:48.824548", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:48.825702", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:48.837034", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:48.840307", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:48.848573", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.174590", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.176263", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.217953", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:26:52.218627", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:26:52.220208", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T09:26:52.221665", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.238037", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.240890", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.296861", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.437280", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.445160", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.468391", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.541064", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.542924", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.567332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.775586", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.778045", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.792362", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.793462", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.799738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.800530", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.850322", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.851073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.851652", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:52.948709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.949526", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.964662", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.965851", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.974074", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:52.974950", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:52.990802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.009465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.013481", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.054358", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.055241", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.075888", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.076667", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.087434", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.088535", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.096794", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.097882", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.105401", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.112621", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.113498", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.119225", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.119928", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.135345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.135915", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.138846", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.166301", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.172635", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.188905", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.189844", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.246561", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.248456", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.254165", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.254751", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.268384", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.269084", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.280732", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.288317", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.289579", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.297993", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.298719", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.314437", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.319595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.327949", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.357954", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.364575", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.374783", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.375566", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.435567", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.437413", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.443810", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.444504", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.459413", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.460122", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.473984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.482152", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.483004", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.491851", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.492795", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.511958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.513596", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.527955", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.553394", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.559744", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.572635", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.573630", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.728759", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.729763", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.746254", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.747504", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.777457", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:26:53.778495", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:26:53.796214", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.875146", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.881271", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:26:53.897595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:27:52.859035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:27:52.860880", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:27:52.872346", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:27:52.875853", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:27:52.885430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:28:42.908918", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:28:42.912128", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:28:42.932086", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:28:51.834172", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:28:51.835779", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:28:51.848971", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:28:51.850751", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:28:51.859430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:29:53.775498", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:29:53.776963", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:29:53.794818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:29:53.797633", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:29:53.808855", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:30:54.025807", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:30:54.039094", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:30:54.066583", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:30:54.069870", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:30:54.088647", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:31:53.017551", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:31:53.032060", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:31:53.056681", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:31:53.059912", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:31:53.080197", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:32:54.223305", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:32:54.224590", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:32:54.236885", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:32:54.240281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:32:54.249470", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:33:55.288704", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:33:55.290369", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:33:55.303516", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:33:55.306688", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:33:55.322101", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:34:56.699395", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:34:56.810861", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:34:56.855305", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:34:56.860765", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:34:56.972422", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:35:58.046276", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:35:58.101916", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:35:58.134007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:35:58.141157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:35:58.235612", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:36:59.030581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:36:59.045284", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:36:59.088129", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:36:59.093606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:36:59.141172", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:37:59.126459", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:37:59.141572", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:37:59.156965", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:37:59.159072", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:37:59.175378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:39:00.292458", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:39:00.311626", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:39:00.333600", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:39:00.337169", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:39:00.359801", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:40:01.351015", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:40:01.359882", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:40:01.379700", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:40:01.385363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:40:01.406182", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:41:02.610379", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:41:02.619437", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:41:02.638520", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:41:02.641984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:41:02.678023", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:42:03.808140", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:42:03.853903", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:42:03.903007", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:42:03.913054", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:42:04.068471", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:05.103222", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:05.278676", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:05.462255", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:05.481069", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:05.813238", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:53.798100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:53.914375", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:54.035355", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.007063", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.008402", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.018634", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.021349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.064342", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.075678", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.477568", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.481760", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.564065", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.570019", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.606106", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.608791", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.702260", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.705588", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.767256", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:55.769404", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:55.849142", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.857941", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.897482", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.899307", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:55.979176", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:56.421440", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:56.425194", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:56.831150", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:56.833905", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:56.892580", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.132605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:57.142213", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:57.234380", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.262480", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:57.266052", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:57.582843", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:57.588311", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:57.619110", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.659306", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:57.662417", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:57.746174", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:43:57.748165", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:43:57.805241", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.864375", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.886956", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:43:57.930593", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:01.949954", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.018052", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.237004", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:02.493581", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.497200", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.594546", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:02.675541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.680301", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.749010", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:02.851378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.854445", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.894576", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.900170", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.935739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.939844", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:02.991868", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:02.996297", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:03.031483", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:03.033704", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:03.177802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:44:03.181468", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:44:03.233526", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:03.240066", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:03.323157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:03.328764", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:03.375241", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:44:03.560264", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.126741", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.170320", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.196823", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.200330", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.231209", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.233680", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.320376", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.342068", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.348774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.410424", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.418260", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.457102", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.459609", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.712328", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.788521", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.790030", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.818642", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.821295", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.840778", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:37.852276", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:37.854500", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:45:37.984897", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:38.028540", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:38.037149", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:38.766609", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:38.896935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:40.302254", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:40.333948", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:45:54.643522", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:45:59.080221", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:46:14.481363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:46:36.922202", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:46:50.586981", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:46:53.023282", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:46:53.825412", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:46:53.879223", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:46:53.911683", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:46:54.062281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:47:54.493731", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:47:54.526083", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:47:54.551931", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:47:54.559822", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:47:54.675768", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:48:55.527617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:48:55.529495", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:48:55.551320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:48:55.556832", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:48:55.603019", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:49:56.115108", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:49:56.117997", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:49:56.132583", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:49:56.134936", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:49:56.198858", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:50:57.603550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:50:57.604653", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:50:57.615104", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:50:57.618334", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:50:57.653863", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.097545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:51:54.098051", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T09:51:54.110515", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T09:51:54.131036", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.132358", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.144121", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.392021", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.392926", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.400866", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.401476", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.412555", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.416481", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.565751", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.567347", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.580774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.581491", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.588636", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.595975", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.690360", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.691122", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.698802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.699490", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.711769", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.712803", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.719476", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.720336", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.729491", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.730345", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.745626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.746322", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.763353", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.764238", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.776699", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.777463", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.784145", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.794378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.916556", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.917405", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.924747", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.925630", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.949186", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.949977", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.961862", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:51:54.962560", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:51:54.993781", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:54.994266", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:55.040946", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:51:55.051033", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:52:54.144472", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:52:54.145580", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:52:54.157001", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:52:54.158914", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:52:54.168492", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:53:54.265724", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:53:54.266747", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:53:54.278115", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:53:54.281330", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:53:54.292414", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:54:54.105503", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:54:54.106506", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:54:54.117928", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:54:54.119790", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:54:54.133337", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:55:54.628472", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:55:54.629685", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:55:54.641528", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:55:54.644035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:55:54.653325", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:56:54.665869", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:56:54.666831", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:56:54.683346", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:56:54.685269", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:56:54.694020", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:57:55.116802", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:57:55.120037", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:57:55.143139", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:57:55.146023", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:57:55.154840", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:58:56.183712", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:58:56.187453", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:58:56.200281", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:58:56.202112", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:58:56.211666", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:59:57.330470", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:59:57.331756", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T09:59:57.342942", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T09:59:57.344939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T09:59:57.353644", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:00:58.327532", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:00:58.328440", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:00:58.338197", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:00:58.341043", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:00:58.352641", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:01:59.992244", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:01:59.993103", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:02:00.002545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:02:00.004524", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:02:00.014855", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:03:00.960243", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:03:00.961129", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:03:00.971674", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:03:00.974450", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:03:00.986232", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:04:01.986020", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:04:01.986964", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:04:01.996415", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:04:01.998591", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:04:02.009442", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:05:02.250319", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:05:02.251126", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:05:02.260439", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:05:02.262287", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:05:02.273545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:06:03.394631", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:06:03.395577", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:06:03.411536", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:06:03.415363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:06:03.424643", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:07:04.398889", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:07:04.399841", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:07:04.409390", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:07:04.411627", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:07:04.424045", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:08:05.437776", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:08:05.438598", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:08:05.455799", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:08:05.458468", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:08:05.467025", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:09:06.785001", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:09:06.786074", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:09:06.795309", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:09:06.798614", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:09:06.809362", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:10:08.056292", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:10:08.057312", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T10:10:08.071885", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T10:10:08.076723", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T10:10:08.085918", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:36.241186", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 51, "message": "No authentication token provided"}
{"timestamp": "2025-01-16T11:39:36.695006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T11:39:36.696259", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T11:39:36.722080", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T11:39:36.828466", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:36.830717", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:36.943682", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:45.662449", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:45.670468", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:45.736809", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:45.751141", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:45.937276", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:45.939670", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:46.046111", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:46.091964", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:46.163963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:46.243881", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:46.265955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:46.318695", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:46.322434", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:46.432808", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:46.436320", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:46.712963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:46.951853", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:46.955566", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:50.285504", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:50.287624", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:50.448911", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:50.450816", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:50.575005", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:50.578107", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:53.714728", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:53.717286", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:53.923845", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:53.926025", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:54.056625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.131427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.133068", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.213889", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.234732", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:54.249764", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:54.381501", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.830968", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:54.862082", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:54.864556", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:55.107320", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:39:55.121484", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:39:55.350784", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:39:55.424158", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:41:05.572250", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:41:05.574600", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:41:05.591958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:41:05.598751", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:41:05.609982", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:41:38.237036", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:41:38.238008", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:41:38.250137", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:41:38.252924", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:41:38.263534", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:42:39.728381", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:42:39.806520", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:42:39.953481", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:42:39.969736", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:42:40.292075", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:02.386226", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:02.424832", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:02.461440", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:02.472747", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:02.598515", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:55.794984", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:55.855467", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:55.929517", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:55.947430", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:56.024558", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:56.025648", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:56.044872", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:56.232847", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.156919", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.211795", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.260925", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.271251", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.310526", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.312607", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.391157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.394606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.400366", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.481972", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.484915", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.511026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.513516", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.541063", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:57.543108", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:57.830703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.834839", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:57.866774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:58.294234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:58.295998", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:58.771047", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:58.773119", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:58.806541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:58.858479", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:58.859851", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:58.920838", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:58.922387", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:58.967526", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:58.968822", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:59.016016", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:59.017565", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:59.041332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.078928", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.098960", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:59.100505", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:59.114721", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.135594", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.156724", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.210779", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:59.211841", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:59.231407", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.264100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:44:59.265356", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:44:59.327137", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.359175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:44:59.480100", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: 'coroutine' object has no attribute 'scalar_one_or_none'", "exception": {"type": "AttributeError", "message": "'coroutine' object has no attribute 'scalar_one_or_none'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\n", "anyio.WouldBlock\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\n", "AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 157, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\n", "anyio.EndOfStream\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/student_management.py\", line 72, in register_student\n    ).scalar_one_or_none()\n      ^^^^^^^^^^^^^^^^^^\n", "AttributeError: 'coroutine' object has no attribute 'scalar_one_or_none'\n"]}}
{"timestamp": "2025-01-16T11:46:04.313119", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:46:04.373690", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:46:04.436099", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:46:04.448316", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:46:04.785800", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:46:36.587488", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:46:36.590653", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:46:36.614378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:46:36.638136", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:46:36.676574", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:47:10.306175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:47:10.358027", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:47:10.385116", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:47:10.879611", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 108, "message": "Auth middleware error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"password_hash\" of relation \"users\" violates not-null constraint\nDETAIL:  Failing row contains (32, Ali Hassan, STUDENT, null, t, ali@gmail.com, null, null, 23, 2025-01-16 03:47:10.833813-08, null).\n[SQL: INSERT INTO users (name, role, password_hash, is_active, email, phone, date_of_birth, school_id, updated_at) VALUES ($1::VARCHAR, $2::userrole, $3::VARCHAR, $4::BOOLEAN, $5::VARCHAR, $6::VARCHAR, $7::DATE, $8::INTEGER, $9::TIMESTAMP WITH TIME ZONE) RETURNING users.id, users.created_at]\n[parameters: ('Ali Hassan', 'STUDENT', None, True, 'ali@gmail.com', None, None, 23, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "exception": {"type": "IntegrityError", "message": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"password_hash\" of relation \"users\" violates not-null constraint\nDETAIL:  Failing row contains (32, Ali Hassan, STUDENT, null, t, ali@gmail.com, null, null, 23, 2025-01-16 03:47:10.833813-08, null).\n[SQL: INSERT INTO users (name, role, password_hash, is_active, email, phone, date_of_birth, school_id, updated_at) VALUES ($1::VARCHAR, $2::userrole, $3::VARCHAR, $4::BOOLEAN, $5::VARCHAR, $6::VARCHAR, $7::DATE, $8::INTEGER, $9::TIMESTAMP WITH TIME ZONE) RETURNING users.id, users.created_at]\n[parameters: ('Ali Hassan', 'STUDENT', None, True, 'ali@gmail.com', None, None, 23, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 538, in _prepare_and_execute\n    self._rows = deque(await prepared_stmt.fetch(*parameters))\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\n", "asyncpg.exceptions.NotNullViolationError: null value in column \"password_hash\" of relation \"users\" violates not-null constraint\nDETAIL:  Failing row contains (32, Ali Hassan, STUDENT, null, t, ali@gmail.com, null, null, 23, 2025-01-16 03:47:10.833813-08, null).\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"password_hash\" of relation \"users\" violates not-null constraint\nDETAIL:  Failing row contains (32, Ali Hassan, STUDENT, null, t, ali@gmail.com, null, null, 23, 2025-01-16 03:47:10.833813-08, null).\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/auth.py\", line 78, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    with collapse_excgroups():\n", "  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/middleware/request_id.py\", line 11, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    raise app_exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    raise exc\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/app/routes/student_management.py\", line 106, in register_student\n    await db.flush()\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py\", line 800, in flush\n    await greenlet_spawn(self.sync_session.flush, objects=objects)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 203, in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 4352, in flush\n    self._flush(objects)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 4487, in _flush\n    with util.safe_reraise():\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 4448, in _flush\n    flush_context.execute()\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 572, in execute\n    self._adapt_connection.await_(\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 550, in _prepare_and_execute\n    self._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 501, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n", "  File \"/root/projects/school-attendance-management-software/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 784, in _handle_exception\n    raise translated_error from error\n", "sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"password_hash\" of relation \"users\" violates not-null constraint\nDETAIL:  Failing row contains (32, Ali Hassan, STUDENT, null, t, ali@gmail.com, null, null, 23, 2025-01-16 03:47:10.833813-08, null).\n[SQL: INSERT INTO users (name, role, password_hash, is_active, email, phone, date_of_birth, school_id, updated_at) VALUES ($1::VARCHAR, $2::userrole, $3::VARCHAR, $4::BOOLEAN, $5::VARCHAR, $6::VARCHAR, $7::DATE, $8::INTEGER, $9::TIMESTAMP WITH TIME ZONE) RETURNING users.id, users.created_at]\n[parameters: ('Ali Hassan', 'STUDENT', None, True, 'ali@gmail.com', None, None, 23, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)\n"]}}
{"timestamp": "2025-01-16T11:47:38.220869", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:47:38.267408", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:47:38.304682", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:47:38.313664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:47:38.575063", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:48:39.157516", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:48:39.176068", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:48:39.201226", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:48:39.204899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:48:39.227196", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:49:40.687495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:49:40.691658", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:49:40.724766", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:49:40.734192", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:49:40.753431", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:49:54.336363", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:49:54.337448", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:49:54.351752", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:49:59.217837", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:49:59.219763", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:49:59.258299", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:49:59.383319", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T11:49:59.383676", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T11:49:59.384172", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T11:49:59.397381", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:49:59.398904", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:49:59.426626", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:51:00.901943", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:51:00.903002", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:51:00.915251", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:51:00.917144", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:51:00.927266", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:52:01.212774", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:52:01.213689", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:52:01.223756", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:52:01.228319", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:52:01.239987", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:52:59.168653", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:52:59.169916", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:52:59.188872", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:52:59.193818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:52:59.208059", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:40.700569", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:40.702727", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:40.723550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.182692", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.184584", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.195062", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.196064", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.235376", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.241749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.347345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.348316", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.367783", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.421856", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.422813", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.439135", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.440081", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.451229", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.460212", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.501601", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.504390", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.523378", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.525254", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.543437", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.545002", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.560313", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.561869", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.575824", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.576762", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.588613", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.590153", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.615216", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.624940", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.630664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.631464", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.644507", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.654279", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.856605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.857491", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.910269", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.911183", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:41.950937", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.952454", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:41.976935", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:41.978161", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:42.212484", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:59.557125", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:59.558681", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:53:59.570886", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:53:59.575175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:53:59.584833", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:55:00.763675", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:55:00.806963", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:55:00.840565", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:55:00.847410", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:55:00.997317", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:56:01.384234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:56:01.431318", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:56:01.471312", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:56:01.474605", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:56:01.705029", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:57:00.969973", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:57:01.019380", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:57:01.057877", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:57:01.064863", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:57:01.177578", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:58:04.073394", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:58:04.120651", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:58:04.158801", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:58:04.162139", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:58:04.312742", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:59:03.349754", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:59:03.388757", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T11:59:03.431521", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T11:59:03.441201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T11:59:03.577497", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:00:04.498931", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:00:04.553855", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:00:04.623606", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:00:04.645358", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:00:04.755311", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:01:06.789703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:01:06.832002", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:01:06.875220", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:01:06.878489", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:01:07.086010", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:02:01.417297", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:02:02.269856", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:02:02.369773", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:02:02.376396", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:02:02.756552", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:02:03.752609", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:02:03.753964", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:02:03.772924", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:02:54.459024", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:02:54.475401", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:02:54.501597", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:03:01.749717", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:03:01.758649", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:03:01.772519", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:03:01.776958", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:03:01.798795", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:03:15.445297", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:03:15.487596", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:03:15.535818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:04:07.770846", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:04:07.908249", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:04:08.533057", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:04:08.601017", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:04:08.977445", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:04:12.570970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:04:12.652210", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:04:12.732650", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:05:01.440723", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:05:01.484001", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:05:01.531037", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:05:01.535791", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:05:01.681000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:05:47.218286", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:05:47.260025", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:05:47.307279", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:05:52.124703", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:05:52.132666", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:05:52.149306", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:05:58.283913", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:05:58.296687", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:05:58.313963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:00.833904", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:00.834971", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:00.848583", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:00.853866", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:00.864658", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:14.759574", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:14.760519", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:14.773926", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:17.824565", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:17.835940", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:17.855814", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:21.303992", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:21.347982", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:21.371201", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:26.071502", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:26.105075", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:26.140073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:06:47.767064", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:06:47.806664", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:06:47.842664", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:07:01.741200", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:07:01.752921", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:07:01.773354", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:07:01.776053", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:07:01.792754", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:07:59.993410", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:00.032276", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:00.067157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:00.837697", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:00.838468", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:00.851170", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:00.857939", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:00.867655", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:03.147985", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:03.148833", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:03.164073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:05.548832", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:05.561801", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:05.577880", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:08.426483", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:08.428229", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:08.446371", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:14.644151", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:08:14.644705", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:08:14.657691", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:08:14.662973", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:14.663967", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:14.681123", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:14.760882", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:14.765314", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:14.783067", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:15.094267", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.105033", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.125821", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.127554", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.276990", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:15.278232", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:15.727217", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.729163", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.782232", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.792473", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.822000", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.825128", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.953717", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.955691", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:15.995431", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:15.996930", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.011226", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.012805", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.053195", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.054528", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.080858", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.082307", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.115976", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.119883", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.264220", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.265481", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.283465", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.287652", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.307127", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.308624", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.346755", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.349797", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.384198", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.390916", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.422673", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.424068", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.453130", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.454183", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.455152", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.516833", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.528410", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.543291", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.696612", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.698326", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.725989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.727308", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.741395", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.742810", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.778070", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.779370", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.802382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.804079", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.820787", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.822458", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:16.847672", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.858398", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.859451", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.884878", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.890765", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.897452", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:16.980122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:16.981594", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.005962", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.006971", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.017073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.018400", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.063545", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.064869", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.078544", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.079865", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.096842", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.097923", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.121700", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.123061", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.129861", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.148396", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.160091", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.169864", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.268302", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.269232", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.275826", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:08:17.276650", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:08:17.308764", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:08:17.309859", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:09:15.035687", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:09:15.083987", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:09:15.120895", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:09:15.126139", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:09:15.258839", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:10:15.776034", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:10:15.842937", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:10:15.889479", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:10:15.901700", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:10:16.046673", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:11:15.784542", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:11:15.835398", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:11:15.874787", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:11:15.881440", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:11:16.038942", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:12:15.818716", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:12:15.874997", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:12:15.928412", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:12:15.939909", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:12:16.089404", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:12:38.604239", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:12:38.650248", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:12:38.731252", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:12:38.896998", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:12:38.897391", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:12:38.903723", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:12:39.174499", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:12:39.199586", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:12:39.257233", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:12:58.809550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:12:58.861628", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:12:58.899013", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:13:22.113930", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:13:22.154379", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:13:22.187071", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:13:26.573194", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:13:26.574600", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:13:26.590100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:13:42.652981", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:13:42.830491", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:07.918319", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.227501", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:08.543237", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.546994", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:08.576854", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.580281", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:08.609406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.614356", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:08.639332", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.642882", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:08.770051", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:08.823310", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:08.825228", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:08.878026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:08.893175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:08.994532", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.005970", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.037247", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.039517", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.056015", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.063088", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.352382", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.435333", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.437829", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.440064", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:09.676267", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.678955", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:09.772170", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.774851", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:09.809972", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.813518", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:09.841624", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:09.843515", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:10.081765", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.089963", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.091646", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.099948", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.105234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.122458", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.125747", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.130135", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.172402", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.175154", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.176355", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.179892", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.206370", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.207561", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:10.225597", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.226853", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:10.246117", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.249432", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:10.334317", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:25:10.334846", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:25:10.337851", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:25:10.342625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.347107", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.350308", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.358064", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.364902", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.368518", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.386442", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.488625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:25:10.490175", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:25:10.522634", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.526456", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.533147", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:25:10.542039", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:26:10.724148", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:26:10.728275", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:26:10.742875", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:26:10.748517", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:26:10.762625", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:27:10.394504", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:27:10.395225", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:27:10.410962", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:27:10.415562", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:27:10.428155", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:28:10.715739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:28:10.716821", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:28:10.732989", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:28:10.734874", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:28:10.746961", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:29:10.724050", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:29:10.725740", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:29:10.738948", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:29:10.746498", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:29:10.763170", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:30:10.730103", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:30:10.733764", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:30:10.754709", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:30:10.758324", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:30:10.884334", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:31:10.739203", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:31:10.740949", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:31:10.756299", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:31:10.760349", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:31:10.839266", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:32:10.740235", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:32:10.748027", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:32:10.763273", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:32:10.766271", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:32:10.819092", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:33:11.731445", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:33:11.733385", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:33:11.748568", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:33:11.750808", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:33:11.871015", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:34:10.416406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:34:10.418231", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:34:10.437340", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:34:10.441006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:34:10.464333", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:35:10.749169", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:35:10.753272", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:35:10.773451", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:35:10.780714", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:35:10.798456", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:36:11.718942", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:36:11.720433", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:36:11.739858", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:36:11.744932", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:36:11.760695", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:10.703101", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:10.705161", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:10.730992", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:10.733973", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:10.765026", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:25.121952", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:25.122340", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:25.142256", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:37:33.549540", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:33.556093", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:33.557140", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:37:42.555486", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:42.557489", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:42.594234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:42.692100", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:42.692903", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:42.693734", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:37:43.961156", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:43.964881", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:43.991932", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.290979", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.292745", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.306340", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.308715", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.333695", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.335058", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.423861", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.442772", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.448400", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.666509", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.667916", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.681158", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.682612", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.694221", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.695366", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.764786", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.766300", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.796924", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:44.798034", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:44.816962", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.818218", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.820347", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.882793", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:44.920757", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.025541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.027394", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.067001", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.068588", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.095549", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.097190", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.111639", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.113369", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.151706", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.153437", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.257513", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.265090", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.294871", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.317415", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.322998", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.325133", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.412572", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.480812", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.651406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.653342", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.679140", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.680196", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.703865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.708731", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.726406", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.728022", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.760242", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.761378", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.807945", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:45.809666", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:45.845894", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.847431", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.865598", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.866825", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.896785", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:45.968344", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.080411", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.082039", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.098790", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.099863", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.173761", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.174919", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.201572", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.203732", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.325711", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.327185", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.345699", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.346828", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.376177", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.391495", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.479536", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.481136", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.520740", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.599427", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.600726", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.620919", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.626602", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.664260", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:46.666250", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:46.719899", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.781260", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:46.783716", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:37:46.784945", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:37:46.789186", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.797905", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:46.824016", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:37:47.151274", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:37:47.153129", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:37:47.191920", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:38:26.411738", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:38:26.414631", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:38:26.442475", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:38:46.820818", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:38:46.821974", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:38:46.841915", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:38:46.847584", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:38:46.856502", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:38:56.477920", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:38:56.478447", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:38:56.479177", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:39:03.248324", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:39:03.248715", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:39:03.249251", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:40:03.733417", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:40:03.742802", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:40:03.766133", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:40:03.770798", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:40:03.789441", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:41:03.409679", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:41:03.411085", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:41:03.432718", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:41:03.435176", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:41:03.446497", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:41:18.614414", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:18.615337", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:18.616415", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:41:20.477219", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:20.477736", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:20.478579", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:41:56.763052", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:41:56.774983", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:41:56.826103", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:56.826934", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:41:56.827736", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:41:56.834677", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:41:56.956849", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:41:56.958180", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:41:56.995030", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:42:26.693887", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:42:26.695189", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:42:26.709953", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:42:56.859740", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:42:56.865268", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:42:56.878191", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:42:56.880586", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:42:56.891710", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:43:57.719798", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:43:57.721349", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:43:57.737105", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:43:57.741903", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:43:57.756312", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:45.483361", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:45.487358", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:45.529562", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:45.682579", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 448, "message": "Token created successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:44:45.684819", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 894, "message": "Access token refreshed successfully", "user_id": "24"}
{"timestamp": "2025-01-16T12:44:45.697962", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 358, "message": "Token refresh successful"}
{"timestamp": "2025-01-16T12:44:45.712331", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:45.718411", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:45.777437", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:45.842608", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:45.858886", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:45.956683", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.028913", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.031673", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.142861", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.145212", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.221960", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.223821", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.293035", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.295043", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.406220", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.408126", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.556739", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.560114", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.590310", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.593073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.595697", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.636345", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.664531", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.742795", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:46.860862", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.862887", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.884639", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.885816", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.895290", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.896513", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:46.907344", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:46.908379", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.022775", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.024041", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.038749", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.046865", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.049297", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.053719", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.143615", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.228642", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.230374", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.247440", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.250819", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.305265", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.311299", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.377822", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.379172", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.402731", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.404022", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.418926", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.420238", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.434369", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.435781", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.445893", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.448641", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.467541", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.468857", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.494555", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.495539", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.496171", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.497081", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.506665", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.507700", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.710903", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.712253", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.721275", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.722563", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.730178", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.732421", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.742972", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.744203", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.769543", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.770852", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:47.794252", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.795125", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.796754", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.816311", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.833077", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:47.975073", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:47.977288", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:48.003685", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:48.005514", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:48.025732", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:44:48.026774", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:44:48.070331", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:48.075617", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:44:48.076498", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:45:46.718142", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:45:46.720352", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:45:46.742496", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:45:46.745460", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:45:46.759325", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:46:46.068407", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:46:46.094050", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:46:46.131018", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:46:46.147115", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:46:46.319595", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:47:46.715553", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:47:46.717370", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "check_token_revocation", "line": 641, "message": "Failed to check token revocation status", "exception": {"type": "AttributeError", "message": "'_CachedRequest' object has no attribute 'begin'", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/services/auth_service.py\", line 628, in check_token_revocation\n    async with self.db.begin() as transaction:\n               ^^^^^^^^^^^^^\n", "AttributeError: '_CachedRequest' object has no attribute 'begin'\n"]}}
{"timestamp": "2025-01-16T12:47:46.735297", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
{"timestamp": "2025-01-16T12:47:46.739122", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 978, "message": "Attempting to verify token"}
{"timestamp": "2025-01-16T12:47:46.751952", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 998, "message": "Token validated successfully"}
