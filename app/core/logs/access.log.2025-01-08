{"timestamp": "2025-01-07T22:39:19.578202", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 470, "message": "Token verified successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:19.633234", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:19.637838", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:19.638555", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 730, "message": "Access token refreshed successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:19.639718", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 308, "message": "Token refresh error", "exception": {"type": "NameError", "message": "name 'settings' is not defined", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/auth.py\", line 288, in refresh_token\n    \"secure\": settings.COOKIE_SECURE,  # True in production\n              ^^^^^^^^\n", "NameError: name 'settings' is not defined\n"]}}
{"timestamp": "2025-01-07T22:39:19.873828", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 482, "message": "Token expired"}
{"timestamp": "2025-01-07T22:39:19.875911", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "revoke_token", "line": 543, "message": "Error revoking token: 401: Token has expired"}
{"timestamp": "2025-01-07T22:39:20.104542", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 470, "message": "Token verified successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:20.105782", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:20.108453", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:20.115104", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 730, "message": "Access token refreshed successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:39:20.131789", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "refresh_token", "line": 308, "message": "Token refresh error", "exception": {"type": "NameError", "message": "name 'settings' is not defined", "traceback": ["Traceback (most recent call last):\n", "  File \"/root/projects/school-attendance-management-software/app/routes/auth.py\", line 288, in refresh_token\n    \"secure\": settings.COOKIE_SECURE,  # True in production\n              ^^^^^^^^\n", "NameError: name 'settings' is not defined\n"]}}
{"timestamp": "2025-01-07T22:44:55.655840", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 161, "message": "Login attempt initiated", "request_id": "e4dba66b-1786-4800-9eda-bb2e15a7265c"}
{"timestamp": "2025-01-07T22:44:56.239146", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.250006", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.250705", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.276083", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 180, "message": "Login successful", "request_id": "e4dba66b-1786-4800-9eda-bb2e15a7265c", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.354240", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 463, "message": "Invalid or expired session"}
{"timestamp": "2025-01-07T22:44:56.354830", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 489, "message": "Invalid token: Invalid token: session expired"}
{"timestamp": "2025-01-07T22:44:56.355898", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "validate_token", "line": 819, "message": "Unexpected error during token validation: 401: Invalid token"}
{"timestamp": "2025-01-07T22:44:56.374125", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 470, "message": "Token verified successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.376175", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.378258", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:44:56.379195", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "refresh_access_token", "line": 730, "message": "Access token refreshed successfully", "user_id": "1"}
{"timestamp": "2025-01-07T22:45:29.032685", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 106, "message": "Processing request to path: /api/v1/admin/schools"}
{"timestamp": "2025-01-07T22:45:29.034862", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 107, "message": "Request headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '390', 'sec-ch-ua-platform': '\"Windows\"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '\"Google Chrome\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:5173', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:5173/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en;q=0.9,ar-AE;q=0.8,ar;q=0.7,en-US;q=0.6', 'cookie': 'refresh_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJleHAiOjE3MzY4OTQ2OTYsImlhdCI6MTczNjI4OTg5NiwidHlwZSI6InJlZnJlc2giLCJqdGkiOiJmYWVkNmEzYS05OWJkLTQwYjUtOTA3ZC00MDM5MjJhMWRjMWQifQ.PMlhWhxAtZ950rbnXYPJfEEjk6giwfivkI7wc4LKDY0\"; access_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJzZXNzaW9uX2lkIjoiMjcyNTIxMzEtMmE1Ny00MGE1LWI4ODAtOTJkZDJhYzNlNjc2IiwiZXhwIjoxNzM2MjkxNjk2LCJpYXQiOjE3MzYyODk4OTYsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIzMTkyN2E4ZS1iODRmLTRiODgtYjcxMS00N2NlOWQ0NmRmMDMifQ.ls8cTb6AOXV1v9PRvSmr173_Kc08zrWMNIFYGjging4\"'}"}
{"timestamp": "2025-01-07T22:45:29.040648", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 463, "message": "Invalid or expired session"}
{"timestamp": "2025-01-07T22:45:29.041269", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 489, "message": "Invalid token: Invalid token: session expired"}
{"timestamp": "2025-01-07T22:45:29.041866", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 134, "message": "Auth error: 401: Invalid token"}
{"timestamp": "2025-01-07T22:45:48.075157", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 106, "message": "Processing request to path: /api/v1/admin/schools"}
{"timestamp": "2025-01-07T22:45:48.075914", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 107, "message": "Request headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '390', 'sec-ch-ua-platform': '\"Windows\"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '\"Google Chrome\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:5173', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:5173/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en;q=0.9,ar-AE;q=0.8,ar;q=0.7,en-US;q=0.6', 'cookie': 'refresh_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJleHAiOjE3MzY4OTQ2OTYsImlhdCI6MTczNjI4OTg5NiwidHlwZSI6InJlZnJlc2giLCJqdGkiOiJmYWVkNmEzYS05OWJkLTQwYjUtOTA3ZC00MDM5MjJhMWRjMWQifQ.PMlhWhxAtZ950rbnXYPJfEEjk6giwfivkI7wc4LKDY0\"; access_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJzZXNzaW9uX2lkIjoiMjcyNTIxMzEtMmE1Ny00MGE1LWI4ODAtOTJkZDJhYzNlNjc2IiwiZXhwIjoxNzM2MjkxNjk2LCJpYXQiOjE3MzYyODk4OTYsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIzMTkyN2E4ZS1iODRmLTRiODgtYjcxMS00N2NlOWQ0NmRmMDMifQ.ls8cTb6AOXV1v9PRvSmr173_Kc08zrWMNIFYGjging4\"'}"}
{"timestamp": "2025-01-07T22:45:48.077836", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 463, "message": "Invalid or expired session"}
{"timestamp": "2025-01-07T22:45:48.078358", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 489, "message": "Invalid token: Invalid token: session expired"}
{"timestamp": "2025-01-07T22:45:48.079072", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 134, "message": "Auth error: 401: Invalid token"}
{"timestamp": "2025-01-07T22:46:24.559834", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 106, "message": "Processing request to path: /api/v1/admin/schools"}
{"timestamp": "2025-01-07T22:46:24.560937", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 107, "message": "Request headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '390', 'sec-ch-ua-platform': '\"Windows\"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '\"Google Chrome\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:5173', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:5173/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en;q=0.9,ar-AE;q=0.8,ar;q=0.7,en-US;q=0.6', 'cookie': 'refresh_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJleHAiOjE3MzY4OTQ2OTYsImlhdCI6MTczNjI4OTg5NiwidHlwZSI6InJlZnJlc2giLCJqdGkiOiJmYWVkNmEzYS05OWJkLTQwYjUtOTA3ZC00MDM5MjJhMWRjMWQifQ.PMlhWhxAtZ950rbnXYPJfEEjk6giwfivkI7wc4LKDY0\"; access_token=\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJtaWthaWxpc21haWwyNjBAZ21haWwuY29tIiwicm9sZSI6InN1cGVyX2FkbWluIiwic2Nob29sX2lkIjoiMSIsInVzZXJfaWQiOjEsImRldmljZV9pbmZvIjp7ImlwIjoiMTI3LjAuMC4xIiwidXNlcl9hZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNiJ9LCJzZXNzaW9uX2lkIjoiMjcyNTIxMzEtMmE1Ny00MGE1LWI4ODAtOTJkZDJhYzNlNjc2IiwiZXhwIjoxNzM2MjkxNjk2LCJpYXQiOjE3MzYyODk4OTYsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIzMTkyN2E4ZS1iODRmLTRiODgtYjcxMS00N2NlOWQ0NmRmMDMifQ.ls8cTb6AOXV1v9PRvSmr173_Kc08zrWMNIFYGjging4\"'}"}
{"timestamp": "2025-01-07T22:46:24.611381", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 463, "message": "Invalid or expired session"}
{"timestamp": "2025-01-07T22:46:24.612005", "level": "WARNING", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "verify_token", "line": 489, "message": "Invalid token: Invalid token: session expired"}
{"timestamp": "2025-01-07T22:46:24.612642", "level": "ERROR", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "dispatch", "line": 134, "message": "Auth error: 401: Invalid token"}
{"timestamp": "2025-01-07T23:00:03.958609", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 161, "message": "Login attempt initiated", "request_id": "e7e9babf-2002-4342-94a6-b7f06fd2d783"}
{"timestamp": "2025-01-07T23:00:05.426455", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T23:00:05.478912", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T23:00:05.480044", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T23:00:05.574410", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 180, "message": "Login successful", "request_id": "e7e9babf-2002-4342-94a6-b7f06fd2d783", "user_id": "1"}
{"timestamp": "2025-01-07T23:06:13.290017", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 161, "message": "Login attempt initiated", "request_id": "16b174b2-94d5-4aad-80ff-2557fe7e2680"}
{"timestamp": "2025-01-07T23:06:13.769550", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "_create_session", "line": 838, "message": "Session created", "user_id": "1"}
{"timestamp": "2025-01-07T23:06:13.783272", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T23:06:13.784288", "level": "DEBUG", "logger": "SchoolAttendanceLogger", "module": "auth_service", "function": "create_token", "line": 403, "message": "Token created successfully", "user_id": "1"}
{"timestamp": "2025-01-07T23:06:13.801465", "level": "INFO", "logger": "SchoolAttendanceLogger", "module": "auth", "function": "login", "line": 180, "message": "Login successful", "request_id": "16b174b2-94d5-4aad-80ff-2557fe7e2680", "user_id": "1"}
